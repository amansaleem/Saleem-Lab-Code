<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1252" /><link rel="stylesheet" href="file:///C:\Program Files\MATLAB\R2010b\toolbox\matlab\codetools\matlab-report-styles.css" type="text/css" /><title>Function details for memmapfile.memmapfile>memmapfile.set.Format</title><link rel="stylesheet" href="file:///C:\Program Files\MATLAB\R2010b\toolbox\matlab\codetools\matlab-report-styles.css" type="text/css" /></head><body bgcolor="#F8F8F8"><strong>This is a static copy of a profile report</strong><p><a href="file0.html">Home</a><p><span style="font-size:14pt; background:#FFE4B0">memmapfile.memmapfile>memmapfile.set.Format (1 call, 0.040 sec)</span><br/><i>Generated 18-Feb-2011 13:47:15 using cpu time.</i><br/>subfunction in file C:\Program Files\MATLAB\R2010b\toolbox\matlab\iofun\@memmapfile\memmapfile.m<br/>Copy to new window for comparing multiple runs<div class="grayline"/><div class="grayline"/><strong>Parents</strong> (calling functions)<br/><p><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Name</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Type</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Calls</td></tr><tr><td class="td-linebottomrt"><a href="file25.html">...file.memmapfile>memmapfile.memmapfile</a></td><td class="td-linebottomrt">subfunction</td><td class="td-linebottomrt">1</td></tr></table><div class="grayline"/><strong>Lines where the most time was spent</strong><br/> <p><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Line Number</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Code</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Calls</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Total Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">% Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Time Plot</td></tr><tr><td class="td-linebottomrt"><a href="#Line151">151</a></td><td class="td-linebottomrt"><pre>if ~hIsValidFormat(v)</pre></td><td class="td-linebottomrt">1</td><td class="td-linebottomrt">0.037 s</td><td class="td-linebottomrt" class="td-linebottomrt">92.5%</td><td class="td-linebottomrt"><img src="file:///C:\Program Files\MATLAB\R2010b\toolbox\matlab\codetools\private\one-pixel.gif" width=93 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line156">156</a></td><td class="td-linebottomrt"><pre>end % set(format)</pre></td><td class="td-linebottomrt">1</td><td class="td-linebottomrt">0 s</td><td class="td-linebottomrt" class="td-linebottomrt">0%</td><td class="td-linebottomrt"><img src="file:///C:\Program Files\MATLAB\R2010b\toolbox\matlab\codetools\private\one-pixel.gif" width=0 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line155">155</a></td><td class="td-linebottomrt"><pre>obj.Format = v;</pre></td><td class="td-linebottomrt">1</td><td class="td-linebottomrt">0 s</td><td class="td-linebottomrt" class="td-linebottomrt">0%</td><td class="td-linebottomrt"><img src="file:///C:\Program Files\MATLAB\R2010b\toolbox\matlab\codetools\private\one-pixel.gif" width=0 height=10></td></tr><tr><td class="td-linebottomrt">All other lines</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">0.003 s</td><td class="td-linebottomrt">7.5%</td><td class="td-linebottomrt"><img src="file:///C:\Program Files\MATLAB\R2010b\toolbox\matlab\codetools\private\one-pixel.gif" width=7 height=10></td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Totals</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">0.040 s</td><td class="td-linebottomrt" bgcolor="#F0F0F0">100%</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td></tr></table><div class="grayline"/><b>Children</b> (called functions)<br/><p><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Name</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Type</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Calls</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Total Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">% Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Time Plot</td></tr><tr><td class="td-linebottomrt"><a href="file40.html">memmapfile.memmapfile>hIsValidFormat</a></td><td class="td-linebottomrt">subfunction</td><td class="td-linebottomrt">1</td><td class="td-linebottomrt">0.037 s</td><td class="td-linebottomrt">92.5%</td><td class="td-linebottomrt"><img src="file:///C:\Program Files\MATLAB\R2010b\toolbox\matlab\codetools\private\one-pixel.gif" width=93 height=10></td></tr><tr><td class="td-linebottomrt">Self time (built-ins, overhead, etc.)</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">0.003 s</td><td class="td-linebottomrt">7.5%</td><td class="td-linebottomrt"><img src="file:///C:\Program Files\MATLAB\R2010b\toolbox\matlab\codetools\private\one-pixel.gif" width=7 height=10></td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Totals</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">0.040 s</td><td class="td-linebottomrt" bgcolor="#F0F0F0">100%</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td></tr></table><div class="grayline"/><strong>Code Analyzer results</strong><br/>No Code Analyzer messages.<div class="grayline"/><strong>Coverage results</strong><br/>[ Show coverage for parent directory ]<br/><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Total lines in function</td><td class="td-linebottomrt">1030</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Non-code lines (comments, blank lines)</td><td class="td-linebottomrt">500</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines (lines that can run)</td><td class="td-linebottomrt">1</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines that did run</td><td class="td-linebottomrt">3</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines that did not run</td><td class="td-linebottomrt">1</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Coverage (did run/can run)</td><td class="td-linebottomrt">300.00 %</td></tr></table><div class="grayline"/><b>Function listing</b><br/><pre> <span style="color: #FF0000; font-weight: bold; text-decoration: none">  time</span> <span style="color: #0000FF; font-weight: bold; text-decoration: none">  calls</span>  <span style="font-weight: bold; text-decoration: none">line</span><br/>               <span style="color: #A0A0A0">   1</span> <span style="color: #A0A0A0; background: #FFFFFF;">classdef memmapfile</span><br/>               <span style="color: #A0A0A0">   2</span> <span style="color: #228B22; background: #FFFFFF;">%MEMMAPFILE Construct memory-mapped file object.</span><br/>               <span style="color: #A0A0A0">   3</span> <span style="color: #228B22; background: #FFFFFF;">%   M = MEMMAPFILE(FILENAME) constructs a memmapfile object that maps file</span><br/>               <span style="color: #A0A0A0">   4</span> <span style="color: #228B22; background: #FFFFFF;">%   FILENAME to memory, using default property values. FILENAME can be a partial</span><br/>               <span style="color: #A0A0A0">   5</span> <span style="color: #228B22; background: #FFFFFF;">%   pathname relative to the MATLAB path. If the file is not found in or</span><br/>               <span style="color: #A0A0A0">   6</span> <span style="color: #228B22; background: #FFFFFF;">%   relative to the current working directory, MEMMAPFILE searches down the</span><br/>               <span style="color: #A0A0A0">   7</span> <span style="color: #228B22; background: #FFFFFF;">%   MATLAB search path.</span><br/>               <span style="color: #A0A0A0">   8</span> <span style="color: #228B22; background: #FFFFFF;">%    </span><br/>               <span style="color: #A0A0A0">   9</span> <span style="color: #228B22; background: #FFFFFF;">%   M = MEMMAPFILE(FILENAME, PROP1, VALUE1, PROP2, VALUE2, ...) constructs a</span><br/>               <span style="color: #A0A0A0">  10</span> <span style="color: #228B22; background: #FFFFFF;">%   memmapfile object, and sets the properties of that object that are named in</span><br/>               <span style="color: #A0A0A0">  11</span> <span style="color: #228B22; background: #FFFFFF;">%   the argument list (PROP1, PROP2, etc.) to the given values (VALUE1, VALUE2,</span><br/>               <span style="color: #A0A0A0">  12</span> <span style="color: #228B22; background: #FFFFFF;">%   etc.). All property name arguments must be quoted strings (e.g.,</span><br/>               <span style="color: #A0A0A0">  13</span> <span style="color: #228B22; background: #FFFFFF;">%   'Writable'). Any properties that are not specified are given their default</span><br/>               <span style="color: #A0A0A0">  14</span> <span style="color: #228B22; background: #FFFFFF;">%   values.</span><br/>               <span style="color: #A0A0A0">  15</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/>               <span style="color: #A0A0A0">  16</span> <span style="color: #228B22; background: #FFFFFF;">%   Property/Value pairs and descriptions:</span><br/>               <span style="color: #A0A0A0">  17</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/>               <span style="color: #A0A0A0">  18</span> <span style="color: #228B22; background: #FFFFFF;">%       Format: Char array or Nx3 cell array (defaults to 'uint8').</span><br/>               <span style="color: #A0A0A0">  19</span> <span style="color: #228B22; background: #FFFFFF;">%           Format of the contents of the mapped region. </span><br/>               <span style="color: #A0A0A0">  20</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/>               <span style="color: #A0A0A0">  21</span> <span style="color: #228B22; background: #FFFFFF;">%           If a char array, Format specifies that the mapped data is to be</span><br/>               <span style="color: #A0A0A0">  22</span> <span style="color: #228B22; background: #FFFFFF;">%           accessed as a single vector of type specified by Format's</span><br/>               <span style="color: #A0A0A0">  23</span> <span style="color: #228B22; background: #FFFFFF;">%           value. Supported char arrays are 'int8', 'int16', 'int32', 'int64', </span><br/>               <span style="color: #A0A0A0">  24</span> <span style="color: #228B22; background: #FFFFFF;">%           'uint8', 'uint16', 'uint32', 'uint64', 'single', and 'double'.</span><br/>               <span style="color: #A0A0A0">  25</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/>               <span style="color: #A0A0A0">  26</span> <span style="color: #228B22; background: #FFFFFF;">%           If an Nx3 cell array, Format specifies that the mapped data is to be</span><br/>               <span style="color: #A0A0A0">  27</span> <span style="color: #228B22; background: #FFFFFF;">%           accessed as a repeating series of segments of basic types, each with</span><br/>               <span style="color: #A0A0A0">  28</span> <span style="color: #228B22; background: #FFFFFF;">%           specific dimensions and name. The cell array must be of the form</span><br/>               <span style="color: #A0A0A0">  29</span> <span style="color: #228B22; background: #FFFFFF;">%           {TYPE1, DIMS1, NAME1; ...; TYPEn, DIMSn, NAMEn}, where TYPE is one</span><br/>               <span style="color: #A0A0A0">  30</span> <span style="color: #228B22; background: #FFFFFF;">%           of the data type strings listed above, DIMS is a numeric row vector</span><br/>               <span style="color: #A0A0A0">  31</span> <span style="color: #228B22; background: #FFFFFF;">%           specifying the dimensions of the segment of data to use, and NAME is</span><br/>               <span style="color: #A0A0A0">  32</span> <span style="color: #228B22; background: #FFFFFF;">%           a char string specifying the field name to use to access the data</span><br/>               <span style="color: #A0A0A0">  33</span> <span style="color: #228B22; background: #FFFFFF;">%           (as a subfield of the Data property). See Data property and examples</span><br/>               <span style="color: #A0A0A0">  34</span> <span style="color: #228B22; background: #FFFFFF;">%           below.</span><br/>               <span style="color: #A0A0A0">  35</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/>               <span style="color: #A0A0A0">  36</span> <span style="color: #228B22; background: #FFFFFF;">%       Repeat: Positive integer or Inf (defaults to Inf).</span><br/>               <span style="color: #A0A0A0">  37</span> <span style="color: #228B22; background: #FFFFFF;">%           Number of times to apply the specified format to the mapped</span><br/>               <span style="color: #A0A0A0">  38</span> <span style="color: #228B22; background: #FFFFFF;">%           region of the file. If Inf, repeat until end of file. </span><br/>               <span style="color: #A0A0A0">  39</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/>               <span style="color: #A0A0A0">  40</span> <span style="color: #228B22; background: #FFFFFF;">%       Offset: Nonnegative integer (defaults to 0).</span><br/>               <span style="color: #A0A0A0">  41</span> <span style="color: #228B22; background: #FFFFFF;">%           Number of bytes from the start of the file to the start of the</span><br/>               <span style="color: #A0A0A0">  42</span> <span style="color: #228B22; background: #FFFFFF;">%           mapped region. Offset 0 represents the start of the file.</span><br/>               <span style="color: #A0A0A0">  43</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/>               <span style="color: #A0A0A0">  44</span> <span style="color: #228B22; background: #FFFFFF;">%       Writable: True or false (defaults to false).</span><br/>               <span style="color: #A0A0A0">  45</span> <span style="color: #228B22; background: #FFFFFF;">%           Access level which determines whether or not Data property (see</span><br/>               <span style="color: #A0A0A0">  46</span> <span style="color: #228B22; background: #FFFFFF;">%           below) may be assigned to.</span><br/>               <span style="color: #A0A0A0">  47</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/>               <span style="color: #A0A0A0">  48</span> <span style="color: #228B22; background: #FFFFFF;">%   All the properties above may also be accessed after the memmapfile object</span><br/>               <span style="color: #A0A0A0">  49</span> <span style="color: #228B22; background: #FFFFFF;">%   has been created by dot-subscripting the memmapfile object. For example,</span><br/>               <span style="color: #A0A0A0">  50</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/>               <span style="color: #A0A0A0">  51</span> <span style="color: #228B22; background: #FFFFFF;">%       M.Writable = true;</span><br/>               <span style="color: #A0A0A0">  52</span> <span style="color: #228B22; background: #FFFFFF;">% </span><br/>               <span style="color: #A0A0A0">  53</span> <span style="color: #228B22; background: #FFFFFF;">%   changes the Writable property of M to true.</span><br/>               <span style="color: #A0A0A0">  54</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/>               <span style="color: #A0A0A0">  55</span> <span style="color: #228B22; background: #FFFFFF;">%   Two properties which may not be specified to the MEMMAPFILE constructor as</span><br/>               <span style="color: #A0A0A0">  56</span> <span style="color: #228B22; background: #FFFFFF;">%   Property/Value pairs are listed below. These may be accessed (with</span><br/>               <span style="color: #A0A0A0">  57</span> <span style="color: #228B22; background: #FFFFFF;">%   dot-subscripting) after the memmapfile object has been created.</span><br/>               <span style="color: #A0A0A0">  58</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/>               <span style="color: #A0A0A0">  59</span> <span style="color: #228B22; background: #FFFFFF;">%       Data: Numeric array or structure array.</span><br/>               <span style="color: #A0A0A0">  60</span> <span style="color: #228B22; background: #FFFFFF;">%           Contains the actual memory-mapped data from FILENAME. If Format is a</span><br/>               <span style="color: #A0A0A0">  61</span> <span style="color: #228B22; background: #FFFFFF;">%           char array, then Data is a simple numeric array of the type</span><br/>               <span style="color: #A0A0A0">  62</span> <span style="color: #228B22; background: #FFFFFF;">%           specified by Format. If Format is a cell array, then Data is a</span><br/>               <span style="color: #A0A0A0">  63</span> <span style="color: #228B22; background: #FFFFFF;">%           structure array, the field names of which are specified by the third</span><br/>               <span style="color: #A0A0A0">  64</span> <span style="color: #228B22; background: #FFFFFF;">%           column of the cell array. The type and shape of each field of Data</span><br/>               <span style="color: #A0A0A0">  65</span> <span style="color: #228B22; background: #FFFFFF;">%           are determined by the first and second columns of the cell array,</span><br/>               <span style="color: #A0A0A0">  66</span> <span style="color: #228B22; background: #FFFFFF;">%           respectively. Changes to the Data field or subfields also change the</span><br/>               <span style="color: #A0A0A0">  67</span> <span style="color: #228B22; background: #FFFFFF;">%           corresponding values in the memory-mapped file.</span><br/>               <span style="color: #A0A0A0">  68</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/>               <span style="color: #A0A0A0">  69</span> <span style="color: #228B22; background: #FFFFFF;">%       Filename: Char array.</span><br/>               <span style="color: #A0A0A0">  70</span> <span style="color: #228B22; background: #FFFFFF;">%           Contains the name of the file being mapped.</span><br/>               <span style="color: #A0A0A0">  71</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/>               <span style="color: #A0A0A0">  72</span> <span style="color: #228B22; background: #FFFFFF;">%   Note that when a variable containing a memmapfile object goes out of scope</span><br/>               <span style="color: #A0A0A0">  73</span> <span style="color: #228B22; background: #FFFFFF;">%   or is otherwise cleared, the memory map is automatically unmapped.</span><br/>               <span style="color: #A0A0A0">  74</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/>               <span style="color: #A0A0A0">  75</span> <span style="color: #228B22; background: #FFFFFF;">%   Examples:</span><br/>               <span style="color: #A0A0A0">  76</span> <span style="color: #228B22; background: #FFFFFF;">%       % To map the file 'records.dat' to a series of unsigned 32-bit</span><br/>               <span style="color: #A0A0A0">  77</span> <span style="color: #228B22; background: #FFFFFF;">%       % integers and set every other value to zero (in Data and</span><br/>               <span style="color: #A0A0A0">  78</span> <span style="color: #228B22; background: #FFFFFF;">%       % records.dat): </span><br/>               <span style="color: #A0A0A0">  79</span> <span style="color: #228B22; background: #FFFFFF;">%       m = memmapfile('records.dat', 'Format', 'uint32', 'Writable', true);</span><br/>               <span style="color: #A0A0A0">  80</span> <span style="color: #228B22; background: #FFFFFF;">%       m.data(1:2:end) = 0;</span><br/>               <span style="color: #A0A0A0">  81</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/>               <span style="color: #A0A0A0">  82</span> <span style="color: #228B22; background: #FFFFFF;">%       % To map the file 'records.dat' to a repeating series of 20 singles</span><br/>               <span style="color: #A0A0A0">  83</span> <span style="color: #228B22; background: #FFFFFF;">%       % (as a 5-by-4 matrix) called 'sdata', followed by 10 doubles (as a</span><br/>               <span style="color: #A0A0A0">  84</span> <span style="color: #228B22; background: #FFFFFF;">%       1-by-10 vector) called 'ddata': </span><br/>               <span style="color: #A0A0A0">  85</span> <span style="color: #228B22; background: #FFFFFF;">%       m = memmapfile('records.dat', 'Format', {'single' [5 4] 'sdata'; ...</span><br/>               <span style="color: #A0A0A0">  86</span> <span style="color: #228B22; background: #FFFFFF;">%                                                'double', [1 10] 'ddata'});</span><br/>               <span style="color: #A0A0A0">  87</span> <span style="color: #228B22; background: #FFFFFF;">%       firstSdata = m.Data(1).sdata;</span><br/>               <span style="color: #A0A0A0">  88</span> <span style="color: #228B22; background: #FFFFFF;">%       firstDdata = m.Data(1).ddata;</span><br/>               <span style="color: #A0A0A0">  89</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/>               <span style="color: #A0A0A0">  90</span> <span style="color: #228B22; background: #FFFFFF;">%   See also MEMMAPFILE/DISP, MEMMAPFILE/GET, MEMMAPFILE/SUBSASGN,</span><br/>               <span style="color: #A0A0A0">  91</span> <span style="color: #228B22; background: #FFFFFF;">%   MEMMAPFILE/SUBSREF.</span><br/>               <span style="color: #A0A0A0">  92</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0">  93</span> <span style="color: #228B22; background: #FFFFFF;">%   Copyright 2004-2009 The MathWorks, Inc.</span><br/>               <span style="color: #A0A0A0">  94</span> <span style="color: #228B22; background: #FFFFFF;">%   $Revision: 1.1.6.14 $  $Date: 2010/05/13 17:42:21 $</span><br/>               <span style="color: #A0A0A0">  95</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0">  96</span> <span style="color: #228B22; background: #FFFFFF;">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span><br/>               <span style="color: #A0A0A0">  97</span> <span style="color: #228B22; background: #FFFFFF;">%%%   PROPERTIES</span><br/>               <span style="color: #A0A0A0">  98</span> <span style="color: #228B22; background: #FFFFFF;">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span><br/>               <span style="color: #A0A0A0">  99</span> <span style="color: #228B22; background: #FFFFFF;">% Accessible properties of the memory-mapped object</span><br/>               <span style="color: #A0A0A0"> 100</span> <span style="color: #A0A0A0; background: #FFFFFF;">properties</span><br/>               <span style="color: #A0A0A0"> 101</span> <span style="color: #A0A0A0; background: #FFFFFF;">    Writable = false;</span><br/>               <span style="color: #A0A0A0"> 102</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 103</span> <span style="color: #A0A0A0; background: #FFFFFF;">    Offset   = 0;</span><br/>               <span style="color: #A0A0A0"> 104</span> <span style="color: #A0A0A0; background: #FFFFFF;">    Format   = 'uint8';</span><br/>               <span style="color: #A0A0A0"> 105</span> <span style="color: #A0A0A0; background: #FFFFFF;">    Repeat   = inf;</span><br/>               <span style="color: #A0A0A0"> 106</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 107</span> <span style="color: #A0A0A0; background: #FFFFFF;">    Filename = '';</span><br/>               <span style="color: #A0A0A0"> 108</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span><br/>               <span style="color: #A0A0A0"> 109</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 110</span> <span style="color: #228B22; background: #FFFFFF;">% Private properties of the memory-mapped object</span><br/>               <span style="color: #A0A0A0"> 111</span> <span style="color: #228B22; background: #FFFFFF;">% NOTE: All private properties should have mixed case names with at least one</span><br/>               <span style="color: #A0A0A0"> 112</span> <span style="color: #228B22; background: #FFFFFF;">% medial capital letter so that they are not found by @memmapfile/subsref and</span><br/>               <span style="color: #A0A0A0"> 113</span> <span style="color: #228B22; background: #FFFFFF;">% @memmapfile/subsasgn, which get/set obj.(hCapitalize(fieldname)).</span><br/>               <span style="color: #A0A0A0"> 114</span> <span style="color: #A0A0A0; background: #FFFFFF;">properties (SetAccess='private', GetAccess='private')</span><br/>               <span style="color: #A0A0A0"> 115</span> <span style="color: #A0A0A0; background: #FFFFFF;">    FileSize = 0; % size of file.</span><br/>               <span style="color: #A0A0A0"> 116</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span><br/>               <span style="color: #A0A0A0"> 117</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 118</span> <span style="color: #A0A0A0; background: #FFFFFF;">properties (SetAccess='private', GetAccess='private', Transient=true)</span><br/>               <span style="color: #A0A0A0"> 119</span> <span style="color: #A0A0A0; background: #FFFFFF;">    CheckAlignmentNeeded = any(strcmp(computer, {'SOL2', 'SOL64'}));</span><br/>               <span style="color: #A0A0A0"> 120</span> <span style="color: #A0A0A0; background: #FFFFFF;">    DataHandleHolder;</span><br/>               <span style="color: #A0A0A0"> 121</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span><br/>               <span style="color: #A0A0A0"> 122</span> <span style="color: #A0A0A0; background: #FFFFFF;">properties (SetAccess='private', GetAccess='private', Dependent=true)</span><br/>               <span style="color: #A0A0A0"> 123</span> <span style="color: #A0A0A0; background: #FFFFFF;">    DataHandle;</span><br/>               <span style="color: #A0A0A0"> 124</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span><br/>               <span style="color: #A0A0A0"> 125</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 126</span> <span style="color: #228B22; background: #FFFFFF;">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span><br/>               <span style="color: #A0A0A0"> 127</span> <span style="color: #228B22; background: #FFFFFF;">%%%   PROPERTY SET AND GET METHODS</span><br/>               <span style="color: #A0A0A0"> 128</span> <span style="color: #228B22; background: #FFFFFF;">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span><br/>               <span style="color: #A0A0A0"> 129</span> <span style="color: #A0A0A0; background: #FFFFFF;">methods</span><br/>               <span style="color: #A0A0A0"> 130</span> <span style="color: #A0A0A0; background: #FFFFFF;">    function obj = set.Writable(obj, v)</span><br/>               <span style="color: #A0A0A0"> 131</span> <span style="color: #A0A0A0; background: #FFFFFF;">        if ~isscalar(v) || ~isa(v, 'logical')</span><br/>               <span style="color: #A0A0A0"> 132</span> <span style="color: #A0A0A0; background: #FFFFFF;">            error('MATLAB:memmapfile:illegalWritableSetting', ...</span><br/>               <span style="color: #A0A0A0"> 133</span> <span style="color: #A0A0A0; background: #FFFFFF;">                  'The Writable field must contain a scalar logical.');</span><br/>               <span style="color: #A0A0A0"> 134</span> <span style="color: #A0A0A0; background: #FFFFFF;">        end</span><br/>               <span style="color: #A0A0A0"> 135</span> <span style="color: #A0A0A0; background: #FFFFFF;">        obj.Writable = v;</span><br/>               <span style="color: #A0A0A0"> 136</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end % set(writable)</span><br/>               <span style="color: #A0A0A0"> 137</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 138</span> <span style="color: #A0A0A0; background: #FFFFFF;">    function obj = set.Offset(obj, v)</span><br/>               <span style="color: #A0A0A0"> 139</span> <span style="color: #A0A0A0; background: #FFFFFF;">        if ~isscalar(v) || ~isnumeric(v) || ~isreal(v)</span><br/>               <span style="color: #A0A0A0"> 140</span> <span style="color: #A0A0A0; background: #FFFFFF;">            error('MATLAB:memmapfile:illegalOffsetType', ...</span><br/>               <span style="color: #A0A0A0"> 141</span> <span style="color: #A0A0A0; background: #FFFFFF;">                  'The Offset field must be a real scalar number.')</span><br/>               <span style="color: #A0A0A0"> 142</span> <span style="color: #A0A0A0; background: #FFFFFF;">        elseif ~isfinite(v) || v &lt; 0 || (~isinteger(v) &amp;&amp; v ~= fix(v))</span><br/>               <span style="color: #A0A0A0"> 143</span> <span style="color: #A0A0A0; background: #FFFFFF;">            error('MATLAB:memmapfile:illegalOffsetValue', ...</span><br/>               <span style="color: #A0A0A0"> 144</span> <span style="color: #A0A0A0; background: #FFFFFF;">                  'The Offset field must contain a finite, nonnegative integral value.');</span><br/>               <span style="color: #A0A0A0"> 145</span> <span style="color: #A0A0A0; background: #FFFFFF;">        end</span><br/>               <span style="color: #A0A0A0"> 146</span> <span style="color: #A0A0A0; background: #FFFFFF;">        v = double(v);</span><br/>               <span style="color: #A0A0A0"> 147</span> <span style="color: #A0A0A0; background: #FFFFFF;">        obj.Offset = v;</span><br/>               <span style="color: #A0A0A0"> 148</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end % set(offset)</span><br/>               <span style="color: #A0A0A0"> 149</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 150</span> <span style="color: #A0A0A0; background: #FFFFFF;">    function obj = set.Format(obj, v)</span><br/><span style="color: #FF0000">  0.04 </span><span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"> 151</span> <a name="Line151"></a><span style="color: #000000; background: #FF8080;">        if ~hIsValidFormat(v) </span><br/>               <span style="color: #A0A0A0"> 152</span> <span style="color: #A0A0A0; background: #FFFFFF;">            error('MATLAB:memmapfile:illegalFormatSetting', ...</span><br/>               <span style="color: #A0A0A0"> 153</span> <span style="color: #A0A0A0; background: #FFFFFF;">                  'The Format field specified is invalid.');</span><br/>               <span style="color: #A0A0A0"> 154</span> <span style="color: #A0A0A0; background: #FFFFFF;">        end</span><br/>       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"> 155</span> <a name="Line155"></a><span style="color: #000000; background: #FFFFFF;">        obj.Format = v; </span><br/>       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"> 156</span> <a name="Line156"></a><span style="color: #000000; background: #FFFFFF;">    end % set(format) </span><br/>               <span style="color: #A0A0A0"> 157</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 158</span> <span style="color: #A0A0A0; background: #FFFFFF;">    function obj = set.Repeat(obj, v)</span><br/>               <span style="color: #A0A0A0"> 159</span> <span style="color: #A0A0A0; background: #FFFFFF;">        if ~isscalar(v) || ~isnumeric(v) || ~isreal(v)</span><br/>               <span style="color: #A0A0A0"> 160</span> <span style="color: #A0A0A0; background: #FFFFFF;">            error('MATLAB:memmapfile:illegalRepeatType', ...</span><br/>               <span style="color: #A0A0A0"> 161</span> <span style="color: #A0A0A0; background: #FFFFFF;">                  'The Repeat field must contain a real scalar number.');</span><br/>               <span style="color: #A0A0A0"> 162</span> <span style="color: #A0A0A0; background: #FFFFFF;">        elseif isnan(v) || v &lt;= 0 || (~isinteger(v) &amp;&amp; v ~= fix(v))</span><br/>               <span style="color: #A0A0A0"> 163</span> <span style="color: #A0A0A0; background: #FFFFFF;">            error('MATLAB:memmapfile:illegalRepeatValue', ...</span><br/>               <span style="color: #A0A0A0"> 164</span> <span style="color: #A0A0A0; background: #FFFFFF;">                  'The Repeat field must contain a positive integral value, or Inf.');</span><br/>               <span style="color: #A0A0A0"> 165</span> <span style="color: #A0A0A0; background: #FFFFFF;">        end</span><br/>               <span style="color: #A0A0A0"> 166</span> <span style="color: #A0A0A0; background: #FFFFFF;">        v = double(v);</span><br/>               <span style="color: #A0A0A0"> 167</span> <span style="color: #A0A0A0; background: #FFFFFF;">        obj.Repeat = v;</span><br/>               <span style="color: #A0A0A0"> 168</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end % set(repeat)</span><br/>               <span style="color: #A0A0A0"> 169</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 170</span> <span style="color: #A0A0A0; background: #FFFFFF;">    function obj = set.DataHandle(obj, v)</span><br/>               <span style="color: #A0A0A0"> 171</span> <span style="color: #228B22; background: #FFFFFF;">        % Need to bump internal reference count of DataHandle if MATLAB is making this</span><br/>               <span style="color: #A0A0A0"> 172</span> <span style="color: #228B22; background: #FFFFFF;">        % object a copy of another object. That happens when this object's</span><br/>               <span style="color: #A0A0A0"> 173</span> <span style="color: #228B22; background: #FFFFFF;">        % DataHandle is [], and v is _not_ 0. If DataHandle is not empty, then we</span><br/>               <span style="color: #A0A0A0"> 174</span> <span style="color: #228B22; background: #FFFFFF;">        % are updating the handle internally (due to an unmap).  If v is 0, then we</span><br/>               <span style="color: #A0A0A0"> 175</span> <span style="color: #228B22; background: #FFFFFF;">        % are constructing the object from scratch, or loading the object from disk,</span><br/>               <span style="color: #A0A0A0"> 176</span> <span style="color: #228B22; background: #FFFFFF;">        % since DataHandle is transient.</span><br/>               <span style="color: #A0A0A0"> 177</span> <span style="color: #A0A0A0; background: #FFFFFF;">        if isempty(obj.DataHandleHolder) || isequal(v, 0)</span><br/>               <span style="color: #A0A0A0"> 178</span> <span style="color: #A0A0A0; background: #FFFFFF;">            if isempty(v) || isequal(v, 0) </span><br/>               <span style="color: #A0A0A0"> 179</span> <span style="color: #228B22; background: #FFFFFF;">                % There's no memory map to share, so create a new DataHandle.</span><br/>               <span style="color: #A0A0A0"> 180</span> <span style="color: #A0A0A0; background: #FFFFFF;">                v = hCreateNewDataHandle();</span><br/>               <span style="color: #A0A0A0"> 181</span> <span style="color: #A0A0A0; background: #FFFFFF;">            end</span><br/>               <span style="color: #A0A0A0"> 182</span> <span style="color: #A0A0A0; background: #FFFFFF;">        end</span><br/>               <span style="color: #A0A0A0"> 183</span> <span style="color: #A0A0A0; background: #FFFFFF;">        obj.DataHandleHolder = memmap_data_handle_holder(v);</span><br/>               <span style="color: #A0A0A0"> 184</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end % set(DataHandle)</span><br/>               <span style="color: #A0A0A0"> 185</span> <span style="color: #228B22; background: #FFFFFF;">    </span><br/>               <span style="color: #A0A0A0"> 186</span> <span style="color: #A0A0A0; background: #FFFFFF;">    function dh = get.DataHandle(obj)</span><br/>               <span style="color: #A0A0A0"> 187</span> <span style="color: #A0A0A0; background: #FFFFFF;">        if ~isempty(obj.DataHandleHolder)</span><br/>               <span style="color: #A0A0A0"> 188</span> <span style="color: #A0A0A0; background: #FFFFFF;">            dh = obj.DataHandleHolder.dataHandle;</span><br/>               <span style="color: #A0A0A0"> 189</span> <span style="color: #228B22; background: #FFFFFF;">        else</span><br/>               <span style="color: #A0A0A0"> 190</span> <span style="color: #A0A0A0; background: #FFFFFF;">            dh = 0;</span><br/>               <span style="color: #A0A0A0"> 191</span> <span style="color: #A0A0A0; background: #FFFFFF;">        end</span><br/>               <span style="color: #A0A0A0"> 192</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end</span><br/>               <span style="color: #A0A0A0"> 193</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span><br/>               <span style="color: #A0A0A0"> 194</span> <span style="color: #228B22; background: #FFFFFF;">    </span><br/>               <span style="color: #A0A0A0"> 195</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 196</span> <span style="color: #228B22; background: #FFFFFF;">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span><br/>               <span style="color: #A0A0A0"> 197</span> <span style="color: #228B22; background: #FFFFFF;">%%%   METHODS</span><br/>               <span style="color: #A0A0A0"> 198</span> <span style="color: #228B22; background: #FFFFFF;">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span><br/>               <span style="color: #A0A0A0"> 199</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 200</span> <span style="color: #A0A0A0; background: #FFFFFF;">methods (Access='private')</span><br/>               <span style="color: #A0A0A0"> 201</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 202</span> <span style="color: #228B22; background: #FFFFFF;">    % -------------------------------------------------------------------------</span><br/>               <span style="color: #A0A0A0"> 203</span> <span style="color: #228B22; background: #FFFFFF;">    % Compute whether accessing data with the specified format/offset/repeat would </span><br/>               <span style="color: #A0A0A0"> 204</span> <span style="color: #228B22; background: #FFFFFF;">    % lead to an unaligned data exception.</span><br/>               <span style="color: #A0A0A0"> 205</span> <span style="color: #A0A0A0; background: #FFFFFF;">    function bad = hIsUnaligned(obj)</span><br/>               <span style="color: #A0A0A0"> 206</span> <span style="color: #A0A0A0; background: #FFFFFF;">        bad = false;</span><br/>               <span style="color: #A0A0A0"> 207</span> <span style="color: #A0A0A0; background: #FFFFFF;">        if iscell(obj.Format)</span><br/>               <span style="color: #A0A0A0"> 208</span> <span style="color: #A0A0A0; background: #FFFFFF;">            loc = obj.Offset;</span><br/>               <span style="color: #A0A0A0"> 209</span> <span style="color: #228B22; background: #FFFFFF;">            % If we can run through the full frame twice legally, we should be able</span><br/>               <span style="color: #A0A0A0"> 210</span> <span style="color: #228B22; background: #FFFFFF;">            % to run through it infinitely many times, by induction. If repeat is only 1,</span><br/>               <span style="color: #A0A0A0"> 211</span> <span style="color: #228B22; background: #FFFFFF;">            % we only need to get through one frame to be legal.</span><br/>               <span style="color: #A0A0A0"> 212</span> <span style="color: #A0A0A0; background: #FFFFFF;">            for frame = 1:min(2, obj.Repeat)</span><br/>               <span style="color: #A0A0A0"> 213</span> <span style="color: #A0A0A0; background: #FFFFFF;">                for elem = 1:size(obj.Format, 1)</span><br/>               <span style="color: #A0A0A0"> 214</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    if mod(loc, hFrameSize(obj.Format{elem,1})) ~= 0</span><br/>               <span style="color: #A0A0A0"> 215</span> <span style="color: #A0A0A0; background: #FFFFFF;">                        bad = true;</span><br/>               <span style="color: #A0A0A0"> 216</span> <span style="color: #A0A0A0; background: #FFFFFF;">                        return;</span><br/>               <span style="color: #A0A0A0"> 217</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    end</span><br/>               <span style="color: #A0A0A0"> 218</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    loc = loc + hFrameSize(obj.Format(elem,:));</span><br/>               <span style="color: #A0A0A0"> 219</span> <span style="color: #A0A0A0; background: #FFFFFF;">                end</span><br/>               <span style="color: #A0A0A0"> 220</span> <span style="color: #228B22; background: #FFFFFF;">                % This exits the method if we can not fit two frames in the file</span><br/>               <span style="color: #A0A0A0"> 221</span> <span style="color: #228B22; background: #FFFFFF;">                % starting from the offset, and the repeat is set to inf.  In this</span><br/>               <span style="color: #A0A0A0"> 222</span> <span style="color: #228B22; background: #FFFFFF;">                % case if there are no offset problems in the first iteration, it</span><br/>               <span style="color: #A0A0A0"> 223</span> <span style="color: #228B22; background: #FFFFFF;">                % is ok.</span><br/>               <span style="color: #A0A0A0"> 224</span> <span style="color: #A0A0A0; background: #FFFFFF;">                if (obj.Repeat == inf) &amp;&amp;(((loc - obj.Offset) * 2) + obj.Offset) &gt; obj.FileSize</span><br/>               <span style="color: #A0A0A0"> 225</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    return;</span><br/>               <span style="color: #A0A0A0"> 226</span> <span style="color: #A0A0A0; background: #FFFFFF;">                end</span><br/>               <span style="color: #A0A0A0"> 227</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 228</span> <span style="color: #A0A0A0; background: #FFFFFF;">            end</span><br/>               <span style="color: #A0A0A0"> 229</span> <span style="color: #228B22; background: #FFFFFF;">        else</span><br/>               <span style="color: #A0A0A0"> 230</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 231</span> <span style="color: #A0A0A0; background: #FFFFFF;">            if mod(obj.Offset, hFrameSize(obj.Format)) ~= 0</span><br/>               <span style="color: #A0A0A0"> 232</span> <span style="color: #A0A0A0; background: #FFFFFF;">                bad = true;</span><br/>               <span style="color: #A0A0A0"> 233</span> <span style="color: #A0A0A0; background: #FFFFFF;">                return;</span><br/>               <span style="color: #A0A0A0"> 234</span> <span style="color: #A0A0A0; background: #FFFFFF;">            end</span><br/>               <span style="color: #A0A0A0"> 235</span> <span style="color: #A0A0A0; background: #FFFFFF;">        end</span><br/>               <span style="color: #A0A0A0"> 236</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 237</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end % hIsUnaligned</span><br/>               <span style="color: #A0A0A0"> 238</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 239</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 240</span> <span style="color: #228B22; background: #FFFFFF;">    % -------------------------------------------------------------------------</span><br/>               <span style="color: #A0A0A0"> 241</span> <span style="color: #A0A0A0; background: #FFFFFF;">    function hCreateMap(obj)</span><br/>               <span style="color: #A0A0A0"> 242</span> <span style="color: #A0A0A0; background: #FFFFFF;">        if obj.CheckAlignmentNeeded &amp;&amp; hIsUnaligned(obj)</span><br/>               <span style="color: #A0A0A0"> 243</span> <span style="color: #A0A0A0; background: #FFFFFF;">            error('MATLAB:memmapfile:illegalAlignment', ...</span><br/>               <span style="color: #A0A0A0"> 244</span> <span style="color: #A0A0A0; background: #FFFFFF;">                  ['Illegal format, offset, or repeat. Accessing the Data field ', ...</span><br/>               <span style="color: #A0A0A0"> 245</span> <span style="color: #A0A0A0; background: #FFFFFF;">                   'given the\nspecified format, offset, ', ...</span><br/>               <span style="color: #A0A0A0"> 246</span> <span style="color: #A0A0A0; background: #FFFFFF;">                   'and repeat values would cause an unaligned\naddress exception.']);</span><br/>               <span style="color: #A0A0A0"> 247</span> <span style="color: #A0A0A0; background: #FFFFFF;">        end</span><br/>               <span style="color: #A0A0A0"> 248</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 249</span> <span style="color: #A0A0A0; background: #FFFFFF;">        if isinf(obj.Repeat)</span><br/>               <span style="color: #A0A0A0"> 250</span> <span style="color: #A0A0A0; background: #FFFFFF;">            numberOfFrames = 1;</span><br/>               <span style="color: #A0A0A0"> 251</span> <span style="color: #228B22; background: #FFFFFF;">        else</span><br/>               <span style="color: #A0A0A0"> 252</span> <span style="color: #A0A0A0; background: #FFFFFF;">            numberOfFrames = obj.Repeat;</span><br/>               <span style="color: #A0A0A0"> 253</span> <span style="color: #A0A0A0; background: #FFFFFF;">        end</span><br/>               <span style="color: #A0A0A0"> 254</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 255</span> <span style="color: #A0A0A0; background: #FFFFFF;">        if hFrameSize(obj.Format) * numberOfFrames + obj.Offset &gt; obj.FileSize</span><br/>               <span style="color: #A0A0A0"> 256</span> <span style="color: #A0A0A0; background: #FFFFFF;">            error('MATLAB:memmapfile:fileTooSmall', ...</span><br/>               <span style="color: #A0A0A0"> 257</span> <span style="color: #A0A0A0; background: #FFFFFF;">                  ['File "%s" is not large enough to map with the current format, offset, ' ...</span><br/>               <span style="color: #A0A0A0"> 258</span> <span style="color: #A0A0A0; background: #FFFFFF;">                   'and repeat values.'], obj.Filename);</span><br/>               <span style="color: #A0A0A0"> 259</span> <span style="color: #A0A0A0; background: #FFFFFF;">        end</span><br/>               <span style="color: #A0A0A0"> 260</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 261</span> <span style="color: #A0A0A0; background: #FFFFFF;">        mapfileInputStruct.filename = obj.Filename;</span><br/>               <span style="color: #A0A0A0"> 262</span> <span style="color: #A0A0A0; background: #FFFFFF;">        mapfileInputStruct.writable = obj.Writable;</span><br/>               <span style="color: #A0A0A0"> 263</span> <span style="color: #A0A0A0; background: #FFFFFF;">        if obj.Repeat == Inf</span><br/>               <span style="color: #A0A0A0"> 264</span> <span style="color: #A0A0A0; background: #FFFFFF;">            mapfileInputStruct.numElements = 0;</span><br/>               <span style="color: #A0A0A0"> 265</span> <span style="color: #228B22; background: #FFFFFF;">        else</span><br/>               <span style="color: #A0A0A0"> 266</span> <span style="color: #A0A0A0; background: #FFFFFF;">            mapfileInputStruct.numElements = obj.Repeat;</span><br/>               <span style="color: #A0A0A0"> 267</span> <span style="color: #A0A0A0; background: #FFFFFF;">        end</span><br/>               <span style="color: #A0A0A0"> 268</span> <span style="color: #A0A0A0; background: #FFFFFF;">        mapfileInputStruct.offset = obj.Offset;</span><br/>               <span style="color: #A0A0A0"> 269</span> <span style="color: #A0A0A0; background: #FFFFFF;">        mapfileInputStruct.format = obj.Format;</span><br/>               <span style="color: #A0A0A0"> 270</span> <span style="color: #A0A0A0; background: #FFFFFF;">        mapfileInputStruct.dataHandle = obj.DataHandle;</span><br/>               <span style="color: #A0A0A0"> 271</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 272</span> <span style="color: #A0A0A0; background: #FFFFFF;">        hMapFile(mapfileInputStruct);</span><br/>               <span style="color: #A0A0A0"> 273</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end % hCreateMap</span><br/>               <span style="color: #A0A0A0"> 274</span> <span style="color: #228B22; background: #FFFFFF;">    </span><br/>               <span style="color: #A0A0A0"> 275</span> <span style="color: #228B22; background: #FFFFFF;">    % -------------------------------------------------------------------------</span><br/>               <span style="color: #A0A0A0"> 276</span> <span style="color: #A0A0A0; background: #FFFFFF;">    function siz = hGetDataSize(obj)</span><br/>               <span style="color: #A0A0A0"> 277</span> <span style="color: #A0A0A0; background: #FFFFFF;">        framesAvailable = fix((obj.FileSize - obj.Offset) / hFrameSize(obj.Format));</span><br/>               <span style="color: #A0A0A0"> 278</span> <span style="color: #A0A0A0; background: #FFFFFF;">        if obj.Repeat == Inf</span><br/>               <span style="color: #A0A0A0"> 279</span> <span style="color: #A0A0A0; background: #FFFFFF;">            siz = [max(framesAvailable, 0) 1];</span><br/>               <span style="color: #A0A0A0"> 280</span> <span style="color: #A0A0A0; background: #FFFFFF;">        elseif framesAvailable &lt; obj.Repeat</span><br/>               <span style="color: #A0A0A0"> 281</span> <span style="color: #A0A0A0; background: #FFFFFF;">            siz = [0 1];</span><br/>               <span style="color: #A0A0A0"> 282</span> <span style="color: #228B22; background: #FFFFFF;">        else</span><br/>               <span style="color: #A0A0A0"> 283</span> <span style="color: #A0A0A0; background: #FFFFFF;">            siz = [obj.Repeat 1];</span><br/>               <span style="color: #A0A0A0"> 284</span> <span style="color: #A0A0A0; background: #FFFFFF;">        end</span><br/>               <span style="color: #A0A0A0"> 285</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end % hGetDataSize</span><br/>               <span style="color: #A0A0A0"> 286</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 287</span> <span style="color: #228B22; background: #FFFFFF;">    % -------------------------------------------------------------------------</span><br/>               <span style="color: #A0A0A0"> 288</span> <span style="color: #228B22; background: #FFFFFF;">    % Update filename field of memmapfile obj. </span><br/>               <span style="color: #A0A0A0"> 289</span> <span style="color: #228B22; background: #FFFFFF;">    %  * Make sure file is accessible. </span><br/>               <span style="color: #A0A0A0"> 290</span> <span style="color: #228B22; background: #FFFFFF;">    %  * Replace filename with a full path version if it refers to a file on the matlabpath </span><br/>               <span style="color: #A0A0A0"> 291</span> <span style="color: #228B22; background: #FFFFFF;">    %    or is a partial path name. </span><br/>               <span style="color: #A0A0A0"> 292</span> <span style="color: #228B22; background: #FFFFFF;">    %  * Recompute cached size of file.</span><br/>               <span style="color: #A0A0A0"> 293</span> <span style="color: #A0A0A0; background: #FFFFFF;">    function obj = hChangeFilename(obj, filename)</span><br/>               <span style="color: #A0A0A0"> 294</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 295</span> <span style="color: #228B22; background: #FFFFFF;">        % Validate type of filename</span><br/>               <span style="color: #A0A0A0"> 296</span> <span style="color: #A0A0A0; background: #FFFFFF;">        if ~ischar(filename) || ~isvector(filename) || size(filename, 1) ~= 1</span><br/>               <span style="color: #A0A0A0"> 297</span> <span style="color: #A0A0A0; background: #FFFFFF;">            error('MATLAB:memmapfile:illegalFilenameType', 'Filename must be a string.');</span><br/>               <span style="color: #A0A0A0"> 298</span> <span style="color: #A0A0A0; background: #FFFFFF;">        end</span><br/>               <span style="color: #A0A0A0"> 299</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 300</span> <span style="color: #A0A0A0; background: #FFFFFF;">        [fid, reason] = fopen(filename);</span><br/>               <span style="color: #A0A0A0"> 301</span> <span style="color: #A0A0A0; background: #FFFFFF;">        if fid == -1</span><br/>               <span style="color: #A0A0A0"> 302</span> <span style="color: #A0A0A0; background: #FFFFFF;">            error('MATLAB:memmapfile:inaccessibleFile', ...</span><br/>               <span style="color: #A0A0A0"> 303</span> <span style="color: #A0A0A0; background: #FFFFFF;">                  'Cannot access file "%s": %s.', filename, reason);</span><br/>               <span style="color: #A0A0A0"> 304</span> <span style="color: #A0A0A0; background: #FFFFFF;">        end</span><br/>               <span style="color: #A0A0A0"> 305</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 306</span> <span style="color: #A0A0A0; background: #FFFFFF;">        foundFilename = fopen(fid); % if file found on MATLABPATH, fopen will return full path</span><br/>               <span style="color: #A0A0A0"> 307</span> <span style="color: #228B22; background: #FFFFFF;">                                    % to found file.</span><br/>               <span style="color: #A0A0A0"> 308</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 309</span> <span style="color: #A0A0A0; background: #FFFFFF;">        fseek(fid, 0, 'eof');</span><br/>               <span style="color: #A0A0A0"> 310</span> <span style="color: #A0A0A0; background: #FFFFFF;">        obj.FileSize = ftell(fid);</span><br/>               <span style="color: #A0A0A0"> 311</span> <span style="color: #A0A0A0; background: #FFFFFF;">        fclose(fid);</span><br/>               <span style="color: #A0A0A0"> 312</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 313</span> <span style="color: #228B22; background: #FFFFFF;">        % Get full path name</span><br/>               <span style="color: #A0A0A0"> 314</span> <span style="color: #A0A0A0; background: #FFFFFF;">        obj.Filename = hResolveFilename(filename, foundFilename);</span><br/>               <span style="color: #A0A0A0"> 315</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 316</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end % hChangeFilename</span><br/>               <span style="color: #A0A0A0"> 317</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 318</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 319</span> <span style="color: #228B22; background: #FFFFFF;">    % -------------------------------------------------------------------------</span><br/>               <span style="color: #A0A0A0"> 320</span> <span style="color: #228B22; background: #FFFFFF;">    % Handle subsasgn to Data field when it contains a numeric array.</span><br/>               <span style="color: #A0A0A0"> 321</span> <span style="color: #A0A0A0; background: #FFFFFF;">    function [valid, s, newval] = hParseNumericDataSubsasgn(obj, s, newval)</span><br/>               <span style="color: #A0A0A0"> 322</span> <span style="color: #A0A0A0; background: #FFFFFF;">        valid = false; </span><br/>               <span style="color: #A0A0A0"> 323</span> <span style="color: #A0A0A0; background: #FFFFFF;">        lenS = length(s);</span><br/>               <span style="color: #A0A0A0"> 324</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 325</span> <span style="color: #A0A0A0; background: #FFFFFF;">        if lenS == 1</span><br/>               <span style="color: #A0A0A0"> 326</span> <span style="color: #228B22; background: #FFFFFF;">            % X.DATA = NEWVAL</span><br/>               <span style="color: #A0A0A0"> 327</span> <span style="color: #A0A0A0; background: #FFFFFF;">            LHS = subsref(obj, s); % get array being assigned to</span><br/>               <span style="color: #A0A0A0"> 328</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 329</span> <span style="color: #A0A0A0; background: #FFFFFF;">            if numel(LHS) == numel(newval)</span><br/>               <span style="color: #A0A0A0"> 330</span> <span style="color: #A0A0A0; background: #FFFFFF;">                if strcmp(class(LHS), class(newval))</span><br/>               <span style="color: #A0A0A0"> 331</span> <span style="color: #228B22; background: #FFFFFF;">                    % Map the operation to X.DATA(:,:) = F(NEWVAL) (where F reshapes NEWVAL suitably)</span><br/>               <span style="color: #A0A0A0"> 332</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    [s, newval] = hMapToTwoColonIndices(LHS, s, newval);</span><br/>               <span style="color: #A0A0A0"> 333</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    valid = true;</span><br/>               <span style="color: #A0A0A0"> 334</span> <span style="color: #228B22; background: #FFFFFF;">                else</span><br/>               <span style="color: #A0A0A0"> 335</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    error('MATLAB:memmapfile:classMismatch', ...</span><br/>               <span style="color: #A0A0A0"> 336</span> <span style="color: #A0A0A0; background: #FFFFFF;">                          'Values assigned to the Data field must have the same class as the Data field.');</span><br/>               <span style="color: #A0A0A0"> 337</span> <span style="color: #A0A0A0; background: #FFFFFF;">                end</span><br/>               <span style="color: #A0A0A0"> 338</span> <span style="color: #228B22; background: #FFFFFF;">            else</span><br/>               <span style="color: #A0A0A0"> 339</span> <span style="color: #A0A0A0; background: #FFFFFF;">                error('MATLAB:memmapfile:sizeMismatch', ...</span><br/>               <span style="color: #A0A0A0"> 340</span> <span style="color: #A0A0A0; background: #FFFFFF;">                      ['In an assignment M.DATA = N, the number of elements in N and ' ...</span><br/>               <span style="color: #A0A0A0"> 341</span> <span style="color: #A0A0A0; background: #FFFFFF;">                       'M.DATA must be the same.']);</span><br/>               <span style="color: #A0A0A0"> 342</span> <span style="color: #A0A0A0; background: #FFFFFF;">            end</span><br/>               <span style="color: #A0A0A0"> 343</span> <span style="color: #A0A0A0; background: #FFFFFF;">        elseif s(2).type(1)=='('</span><br/>               <span style="color: #A0A0A0"> 344</span> <span style="color: #228B22; background: #FFFFFF;">            % X.DATA(INDS)? = NEWVAL</span><br/>               <span style="color: #A0A0A0"> 345</span> <span style="color: #A0A0A0; background: #FFFFFF;">            if lenS == 2</span><br/>               <span style="color: #A0A0A0"> 346</span> <span style="color: #228B22; background: #FFFFFF;">                % X.DATA(INDS) = NEWVAL - this is legal and handled by hSubsasgn as is.</span><br/>               <span style="color: #A0A0A0"> 347</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 348</span> <span style="color: #228B22; background: #FFFFFF;">                % Check for out of bound and single-colon indices.</span><br/>               <span style="color: #A0A0A0"> 349</span> <span style="color: #A0A0A0; background: #FFFFFF;">                LHS = subsref(obj, s(1)); % get array being assigned to</span><br/>               <span style="color: #A0A0A0"> 350</span> <span style="color: #A0A0A0; background: #FFFFFF;">                if hSubsasgnIndexOutOfRange(LHS, s(2).subs) || ...</span><br/>               <span style="color: #A0A0A0"> 351</span> <span style="color: #A0A0A0; background: #FFFFFF;">                   hSubsasgnIsSubscriptedDeletion(s(2).subs, newval)</span><br/>               <span style="color: #A0A0A0"> 352</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    error(hGetCommonMemmapfileError('MATLAB:memmapfile:dataFieldSizeFixed'));</span><br/>               <span style="color: #A0A0A0"> 353</span> <span style="color: #228B22; background: #FFFFFF;">                else</span><br/>               <span style="color: #A0A0A0"> 354</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    [s, newval] = hFixSubscriptedColonAssignment(LHS, s, newval);</span><br/>               <span style="color: #A0A0A0"> 355</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    valid = true;</span><br/>               <span style="color: #A0A0A0"> 356</span> <span style="color: #A0A0A0; background: #FFFFFF;">                end</span><br/>               <span style="color: #A0A0A0"> 357</span> <span style="color: #A0A0A0; background: #FFFFFF;">            end</span><br/>               <span style="color: #A0A0A0"> 358</span> <span style="color: #A0A0A0; background: #FFFFFF;">        end</span><br/>               <span style="color: #A0A0A0"> 359</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 360</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end % hParseNumericDataSubsasgn</span><br/>               <span style="color: #A0A0A0"> 361</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 362</span> <span style="color: #228B22; background: #FFFFFF;">    % -------------------------------------------------------------------------</span><br/>               <span style="color: #A0A0A0"> 363</span> <span style="color: #228B22; background: #FFFFFF;">    % Handle subsasgn to Data field when it contains a structure array.</span><br/>               <span style="color: #A0A0A0"> 364</span> <span style="color: #A0A0A0; background: #FFFFFF;">    function [valid, s, newval] = hParseStructDataSubsasgn(obj, s, newval)</span><br/>               <span style="color: #A0A0A0"> 365</span> <span style="color: #A0A0A0; background: #FFFFFF;">        valid = false; % When this is set to true, LHS must have already been defined.</span><br/>               <span style="color: #A0A0A0"> 366</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 367</span> <span style="color: #228B22; background: #FFFFFF;">        % x.data? = FOO</span><br/>               <span style="color: #A0A0A0"> 368</span> <span style="color: #A0A0A0; background: #FFFFFF;">        if length(s)==1</span><br/>               <span style="color: #A0A0A0"> 369</span> <span style="color: #228B22; background: #FFFFFF;">            % x.data = FOO</span><br/>               <span style="color: #A0A0A0"> 370</span> <span style="color: #A0A0A0; background: #FFFFFF;">            error(hGetCommonMemmapfileError('MATLAB:memmapfile:illegalDataFieldModification'));</span><br/>               <span style="color: #A0A0A0"> 371</span> <span style="color: #A0A0A0; background: #FFFFFF;">        elseif s(2).type(1) == '.'</span><br/>               <span style="color: #A0A0A0"> 372</span> <span style="color: #228B22; background: #FFFFFF;">            % x.data.BAR? = FOO</span><br/>               <span style="color: #A0A0A0"> 373</span> <span style="color: #A0A0A0; background: #FFFFFF;">            if length(s)==2</span><br/>               <span style="color: #A0A0A0"> 374</span> <span style="color: #228B22; background: #FFFFFF;">                % x.data.BAR = FOO</span><br/>               <span style="color: #A0A0A0"> 375</span> <span style="color: #228B22; background: #FFFFFF;">                % -  same as x.data(:).BAR = FOO  -</span><br/>               <span style="color: #A0A0A0"> 376</span> <span style="color: #A0A0A0; background: #FFFFFF;">                s = [s(1) substruct('()', {':'}) s(2:end)];</span><br/>               <span style="color: #A0A0A0"> 377</span> <span style="color: #A0A0A0; background: #FFFFFF;">            elseif s(3).type(1) == '('</span><br/>               <span style="color: #A0A0A0"> 378</span> <span style="color: #228B22; background: #FFFFFF;">                % x.data.BAR()? = FOO</span><br/>               <span style="color: #A0A0A0"> 379</span> <span style="color: #A0A0A0; background: #FFFFFF;">                if length(s) == 3</span><br/>               <span style="color: #A0A0A0"> 380</span> <span style="color: #228B22; background: #FFFFFF;">                    % x.data.BAR() = FOO</span><br/>               <span style="color: #A0A0A0"> 381</span> <span style="color: #228B22; background: #FFFFFF;">                    % -  same as x.data(:).BAR() = FOO  -</span><br/>               <span style="color: #A0A0A0"> 382</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    s = [s(1) substruct('()', {':'}) s(2:end)];</span><br/>               <span style="color: #A0A0A0"> 383</span> <span style="color: #A0A0A0; background: #FFFFFF;">                end</span><br/>               <span style="color: #A0A0A0"> 384</span> <span style="color: #A0A0A0; background: #FFFFFF;">            end</span><br/>               <span style="color: #A0A0A0"> 385</span> <span style="color: #A0A0A0; background: #FFFFFF;">        end</span><br/>               <span style="color: #A0A0A0"> 386</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 387</span> <span style="color: #A0A0A0; background: #FFFFFF;">        if s(2).type(1) == '('</span><br/>               <span style="color: #A0A0A0"> 388</span> <span style="color: #228B22; background: #FFFFFF;">            % x.data()? = FOO</span><br/>               <span style="color: #A0A0A0"> 389</span> <span style="color: #A0A0A0; background: #FFFFFF;">            if length(s) == 2</span><br/>               <span style="color: #A0A0A0"> 390</span> <span style="color: #228B22; background: #FFFFFF;">                % x.data(inds) = FOO</span><br/>               <span style="color: #A0A0A0"> 391</span> <span style="color: #A0A0A0; background: #FFFFFF;">                error(hGetCommonMemmapfileError('MATLAB:memmapfile:illegalDataFieldModification'));</span><br/>               <span style="color: #A0A0A0"> 392</span> <span style="color: #A0A0A0; background: #FFFFFF;">            elseif s(3).type(1) == '.'</span><br/>               <span style="color: #A0A0A0"> 393</span> <span style="color: #228B22; background: #FFFFFF;">                % x.data().BAR? = FOO</span><br/>               <span style="color: #A0A0A0"> 394</span> <span style="color: #A0A0A0; background: #FFFFFF;">                if length(s) == 3</span><br/>               <span style="color: #A0A0A0"> 395</span> <span style="color: #228B22; background: #FFFFFF;">                    % x.data().BAR = FOO</span><br/>               <span style="color: #A0A0A0"> 396</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 397</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    if hSubsasgnIndexOutOfRange(subsref(obj, s(1)), s(2).subs)</span><br/>               <span style="color: #A0A0A0"> 398</span> <span style="color: #A0A0A0; background: #FFFFFF;">                        error(hGetCommonMemmapfileError('MATLAB:memmapfile:dataFieldSizeFixed'));</span><br/>               <span style="color: #A0A0A0"> 399</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    end</span><br/>               <span style="color: #A0A0A0"> 400</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    LHS = subsref(obj, s); % get array being assigned to</span><br/>               <span style="color: #A0A0A0"> 401</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 402</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    if numel(LHS) == numel(newval)</span><br/>               <span style="color: #A0A0A0"> 403</span> <span style="color: #A0A0A0; background: #FFFFFF;">                        if strcmp(class(LHS), class(newval))</span><br/>               <span style="color: #A0A0A0"> 404</span> <span style="color: #228B22; background: #FFFFFF;">                            % Map the operation to X.DATA.BAR(:,:) = F(NEWVAL) (where F</span><br/>               <span style="color: #A0A0A0"> 405</span> <span style="color: #228B22; background: #FFFFFF;">                            % reshapes NEWVAL suitably.)</span><br/>               <span style="color: #A0A0A0"> 406</span> <span style="color: #A0A0A0; background: #FFFFFF;">                            [s, newval] = hMapToTwoColonIndices(LHS, s, newval);</span><br/>               <span style="color: #A0A0A0"> 407</span> <span style="color: #A0A0A0; background: #FFFFFF;">                            valid = true;</span><br/>               <span style="color: #A0A0A0"> 408</span> <span style="color: #228B22; background: #FFFFFF;">                        else</span><br/>               <span style="color: #A0A0A0"> 409</span> <span style="color: #A0A0A0; background: #FFFFFF;">                            error('MATLAB:memmapfile:classMismatchForSubfield', ...</span><br/>               <span style="color: #A0A0A0"> 410</span> <span style="color: #A0A0A0; background: #FFFFFF;">                                  ['Values assigned to subfields of the Data field must have the same ' ...</span><br/>               <span style="color: #A0A0A0"> 411</span> <span style="color: #A0A0A0; background: #FFFFFF;">                                   'class as the subfield.']);</span><br/>               <span style="color: #A0A0A0"> 412</span> <span style="color: #A0A0A0; background: #FFFFFF;">                        end</span><br/>               <span style="color: #A0A0A0"> 413</span> <span style="color: #228B22; background: #FFFFFF;">                    else</span><br/>               <span style="color: #A0A0A0"> 414</span> <span style="color: #A0A0A0; background: #FFFFFF;">                        error('MATLAB:memmapfile:sizeMismatchForSubfield', ...</span><br/>               <span style="color: #A0A0A0"> 415</span> <span style="color: #A0A0A0; background: #FFFFFF;">                              ['In an assignment M.DATA(I).FIELD = N, the number of elements ' ...</span><br/>               <span style="color: #A0A0A0"> 416</span> <span style="color: #A0A0A0; background: #FFFFFF;">                               'in N and M.DATA(I).FIELD must be the same.']);</span><br/>               <span style="color: #A0A0A0"> 417</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    end</span><br/>               <span style="color: #A0A0A0"> 418</span> <span style="color: #A0A0A0; background: #FFFFFF;">                elseif s(4).type(1) == '('</span><br/>               <span style="color: #A0A0A0"> 419</span> <span style="color: #228B22; background: #FFFFFF;">                    % x.data().BAR()? = FOO</span><br/>               <span style="color: #A0A0A0"> 420</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    if length(s) == 4</span><br/>               <span style="color: #A0A0A0"> 421</span> <span style="color: #228B22; background: #FFFFFF;">                        % x.data().BAR() = FOO</span><br/>               <span style="color: #A0A0A0"> 422</span> <span style="color: #228B22; background: #FFFFFF;">                        % Check for out of bound and single-colon indices.</span><br/>               <span style="color: #A0A0A0"> 423</span> <span style="color: #A0A0A0; background: #FFFFFF;">                        if hSubsasgnIndexOutOfRange(subsref(obj, s(1)), s(2).subs)</span><br/>               <span style="color: #A0A0A0"> 424</span> <span style="color: #A0A0A0; background: #FFFFFF;">                            error(hGetCommonMemmapfileError('MATLAB:memmapfile:dataFieldSizeFixed'));</span><br/>               <span style="color: #A0A0A0"> 425</span> <span style="color: #A0A0A0; background: #FFFFFF;">                        end</span><br/>               <span style="color: #A0A0A0"> 426</span> <span style="color: #A0A0A0; background: #FFFFFF;">                        LHS = subsref(obj, s(1:3)); % get array being assigned to</span><br/>               <span style="color: #A0A0A0"> 427</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 428</span> <span style="color: #A0A0A0; background: #FFFFFF;">                        if hSubsasgnIndexOutOfRange(LHS, s(4).subs) || ...</span><br/>               <span style="color: #A0A0A0"> 429</span> <span style="color: #A0A0A0; background: #FFFFFF;">                           hSubsasgnIsSubscriptedDeletion(s(4).subs, newval)</span><br/>               <span style="color: #A0A0A0"> 430</span> <span style="color: #A0A0A0; background: #FFFFFF;">                            error(hGetCommonMemmapfileError('MATLAB:memmapfile:dataSubfieldSizeFixed'));</span><br/>               <span style="color: #A0A0A0"> 431</span> <span style="color: #228B22; background: #FFFFFF;">                        else</span><br/>               <span style="color: #A0A0A0"> 432</span> <span style="color: #A0A0A0; background: #FFFFFF;">                            [s, newval] = hFixSubscriptedColonAssignment(LHS, s, newval);</span><br/>               <span style="color: #A0A0A0"> 433</span> <span style="color: #A0A0A0; background: #FFFFFF;">                            valid = true;</span><br/>               <span style="color: #A0A0A0"> 434</span> <span style="color: #A0A0A0; background: #FFFFFF;">                        end</span><br/>               <span style="color: #A0A0A0"> 435</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    end</span><br/>               <span style="color: #A0A0A0"> 436</span> <span style="color: #A0A0A0; background: #FFFFFF;">                end</span><br/>               <span style="color: #A0A0A0"> 437</span> <span style="color: #A0A0A0; background: #FFFFFF;">            end</span><br/>               <span style="color: #A0A0A0"> 438</span> <span style="color: #A0A0A0; background: #FFFFFF;">        end</span><br/>               <span style="color: #A0A0A0"> 439</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 440</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end % hParseStructDataSubsasgn</span><br/>               <span style="color: #A0A0A0"> 441</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 442</span> <span style="color: #228B22; background: #FFFFFF;">    % -------------------------------------------------------------------------</span><br/>               <span style="color: #A0A0A0"> 443</span> <span style="color: #228B22; background: #FFFFFF;">    % Handle subsasgn to Data field.</span><br/>               <span style="color: #A0A0A0"> 444</span> <span style="color: #A0A0A0; background: #FFFFFF;">    function hDoDataSubsasgn(obj, s, newval)</span><br/>               <span style="color: #A0A0A0"> 445</span> <span style="color: #A0A0A0; background: #FFFFFF;">        if ischar(obj.Format)</span><br/>               <span style="color: #A0A0A0"> 446</span> <span style="color: #A0A0A0; background: #FFFFFF;">            [valid, s, newval] = hParseNumericDataSubsasgn(obj, s, newval);</span><br/>               <span style="color: #A0A0A0"> 447</span> <span style="color: #228B22; background: #FFFFFF;">        else</span><br/>               <span style="color: #A0A0A0"> 448</span> <span style="color: #A0A0A0; background: #FFFFFF;">            [valid, s, newval] = hParseStructDataSubsasgn(obj, s, newval);</span><br/>               <span style="color: #A0A0A0"> 449</span> <span style="color: #A0A0A0; background: #FFFFFF;">        end</span><br/>               <span style="color: #A0A0A0"> 450</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 451</span> <span style="color: #A0A0A0; background: #FFFFFF;">        if valid</span><br/>               <span style="color: #A0A0A0"> 452</span> <span style="color: #A0A0A0; background: #FFFFFF;">            if isnumeric(newval) &amp;&amp; ~isreal(newval)</span><br/>               <span style="color: #A0A0A0"> 453</span> <span style="color: #A0A0A0; background: #FFFFFF;">                error('MATLAB:memmapfile:illegalComplexAssignment', ...</span><br/>               <span style="color: #A0A0A0"> 454</span> <span style="color: #A0A0A0; background: #FFFFFF;">                      'Complex values may not be assigned to Data field or its subfields.');</span><br/>               <span style="color: #A0A0A0"> 455</span> <span style="color: #A0A0A0; background: #FFFFFF;">            end</span><br/>               <span style="color: #A0A0A0"> 456</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 457</span> <span style="color: #A0A0A0; background: #FFFFFF;">            hSubsasgn(obj.DataHandle, s(2:end), newval);</span><br/>               <span style="color: #A0A0A0"> 458</span> <span style="color: #228B22; background: #FFFFFF;">        else</span><br/>               <span style="color: #A0A0A0"> 459</span> <span style="color: #A0A0A0; background: #FFFFFF;">            error('MATLAB:memmapfile:illegalSubscriptedAssignment', ...</span><br/>               <span style="color: #A0A0A0"> 460</span> <span style="color: #A0A0A0; background: #FFFFFF;">                  'Illegal subscripted assignment to Data field of memmapfile object.')</span><br/>               <span style="color: #A0A0A0"> 461</span> <span style="color: #A0A0A0; background: #FFFFFF;">        end</span><br/>               <span style="color: #A0A0A0"> 462</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end % hDoDataSubsasgn</span><br/>               <span style="color: #A0A0A0"> 463</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 464</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 465</span> <span style="color: #228B22; background: #FFFFFF;">    % -------------------------------------------------------------------------</span><br/>               <span style="color: #A0A0A0"> 466</span> <span style="color: #228B22; background: #FFFFFF;">    % Given a subscript structure, s, that is known to index a memmapfile's Data</span><br/>               <span style="color: #A0A0A0"> 467</span> <span style="color: #228B22; background: #FFFFFF;">    % field, determine if s would attempt to assign or reference a comma-separated list.</span><br/>               <span style="color: #A0A0A0"> 468</span> <span style="color: #A0A0A0; background: #FFFFFF;">    function isCSL = hIsCommaSeparatedListOperation(obj, s)</span><br/>               <span style="color: #A0A0A0"> 469</span> <span style="color: #A0A0A0; background: #FFFFFF;">        isCSL = false;</span><br/>               <span style="color: #A0A0A0"> 470</span> <span style="color: #A0A0A0; background: #FFFFFF;">        lenS = length(s);</span><br/>               <span style="color: #A0A0A0"> 471</span> <span style="color: #228B22; background: #FFFFFF;">        % If length(s) == 1, then this is just obj.data</span><br/>               <span style="color: #A0A0A0"> 472</span> <span style="color: #A0A0A0; background: #FFFFFF;">        if lenS &gt; 1</span><br/>               <span style="color: #A0A0A0"> 473</span> <span style="color: #228B22; background: #FFFFFF;">            % Check if data represents a struct</span><br/>               <span style="color: #A0A0A0"> 474</span> <span style="color: #A0A0A0; background: #FFFFFF;">            if iscell(obj.Format)</span><br/>               <span style="color: #A0A0A0"> 475</span> <span style="color: #228B22; background: #FFFFFF;">                % Check if paren-indexing the struct.</span><br/>               <span style="color: #A0A0A0"> 476</span> <span style="color: #A0A0A0; background: #FFFFFF;">                if s(2).type(1) == '(' </span><br/>               <span style="color: #A0A0A0"> 477</span> <span style="color: #228B22; background: #FFFFFF;">                    % Check for presence of dot-indexing the results of obj.data(&lt;inds&gt;)</span><br/>               <span style="color: #A0A0A0"> 478</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    if lenS &gt; 2 &amp;&amp; s(3).type(1) == '.'</span><br/>               <span style="color: #A0A0A0"> 479</span> <span style="color: #A0A0A0; background: #FFFFFF;">                        for i = 1:length(s(2).subs)</span><br/>               <span style="color: #A0A0A0"> 480</span> <span style="color: #A0A0A0; background: #FFFFFF;">                            index = s(2).subs{i};</span><br/>               <span style="color: #A0A0A0"> 481</span> <span style="color: #A0A0A0; background: #FFFFFF;">                            if isnumeric(index) || (ischar(index) &amp;&amp; strcmp(index, ':') == 0)</span><br/>               <span style="color: #A0A0A0"> 482</span> <span style="color: #228B22; background: #FFFFFF;">                                % more or less than one numeric index is a CSL.</span><br/>               <span style="color: #A0A0A0"> 483</span> <span style="color: #A0A0A0; background: #FFFFFF;">                                if length(index) ~= 1</span><br/>               <span style="color: #A0A0A0"> 484</span> <span style="color: #A0A0A0; background: #FFFFFF;">                                    isCSL = true;</span><br/>               <span style="color: #A0A0A0"> 485</span> <span style="color: #A0A0A0; background: #FFFFFF;">                                end</span><br/>               <span style="color: #A0A0A0"> 486</span> <span style="color: #A0A0A0; background: #FFFFFF;">                            elseif islogical(index)</span><br/>               <span style="color: #A0A0A0"> 487</span> <span style="color: #228B22; background: #FFFFFF;">                                % more or less than one logical true index is a CSL</span><br/>               <span style="color: #A0A0A0"> 488</span> <span style="color: #A0A0A0; background: #FFFFFF;">                                if sum(index) ~= 1</span><br/>               <span style="color: #A0A0A0"> 489</span> <span style="color: #A0A0A0; background: #FFFFFF;">                                    isCSL = true;</span><br/>               <span style="color: #A0A0A0"> 490</span> <span style="color: #A0A0A0; background: #FFFFFF;">                                end</span><br/>               <span style="color: #A0A0A0"> 491</span> <span style="color: #228B22; background: #FFFFFF;">                            else % is ':'</span><br/>               <span style="color: #A0A0A0"> 492</span> <span style="color: #228B22; background: #FFFFFF;">                                % Data field must be a column vector, so ':' can only </span><br/>               <span style="color: #A0A0A0"> 493</span> <span style="color: #228B22; background: #FFFFFF;">                                % ever resolve to a non-scalar index when it is the first index.</span><br/>               <span style="color: #A0A0A0"> 494</span> <span style="color: #A0A0A0; background: #FFFFFF;">                                if i == 1</span><br/>               <span style="color: #A0A0A0"> 495</span> <span style="color: #228B22; background: #FFFFFF;">                                    % If the first dimension of data is not 1, the ':' index  </span><br/>               <span style="color: #A0A0A0"> 496</span> <span style="color: #228B22; background: #FFFFFF;">                                    % generates a CSL.</span><br/>               <span style="color: #A0A0A0"> 497</span> <span style="color: #A0A0A0; background: #FFFFFF;">                                    dataSize = hGetDataSize(obj);</span><br/>               <span style="color: #A0A0A0"> 498</span> <span style="color: #A0A0A0; background: #FFFFFF;">                                    if dataSize(1) ~= 1</span><br/>               <span style="color: #A0A0A0"> 499</span> <span style="color: #A0A0A0; background: #FFFFFF;">                                        isCSL = true;</span><br/>               <span style="color: #A0A0A0"> 500</span> <span style="color: #A0A0A0; background: #FFFFFF;">                                    end</span><br/>               <span style="color: #A0A0A0"> 501</span> <span style="color: #A0A0A0; background: #FFFFFF;">                                end</span><br/>               <span style="color: #A0A0A0"> 502</span> <span style="color: #A0A0A0; background: #FFFFFF;">                            end</span><br/>               <span style="color: #A0A0A0"> 503</span> <span style="color: #A0A0A0; background: #FFFFFF;">                        end</span><br/>               <span style="color: #A0A0A0"> 504</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    end</span><br/>               <span style="color: #A0A0A0"> 505</span> <span style="color: #228B22; background: #FFFFFF;">                % If not paren-indexing the struct, make sure it is a scalar</span><br/>               <span style="color: #A0A0A0"> 506</span> <span style="color: #A0A0A0; background: #FFFFFF;">                elseif s(2).type(1) == '.'</span><br/>               <span style="color: #A0A0A0"> 507</span> <span style="color: #228B22; background: #FFFFFF;">                    % OBJ.DATA.FIELD will generate a CSL if OBJ.DATA is not scalar.</span><br/>               <span style="color: #A0A0A0"> 508</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    dataSize = hGetDataSize(obj);</span><br/>               <span style="color: #A0A0A0"> 509</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    isCSL = dataSize(1) ~= 1;</span><br/>               <span style="color: #A0A0A0"> 510</span> <span style="color: #A0A0A0; background: #FFFFFF;">                end</span><br/>               <span style="color: #A0A0A0"> 511</span> <span style="color: #A0A0A0; background: #FFFFFF;">            end</span><br/>               <span style="color: #A0A0A0"> 512</span> <span style="color: #A0A0A0; background: #FFFFFF;">        end</span><br/>               <span style="color: #A0A0A0"> 513</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 514</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end % hIsCommaSeparatedListOperation</span><br/>               <span style="color: #A0A0A0"> 515</span> <span style="color: #A0A0A0; background: #FFFFFF;">end % methods</span><br/>               <span style="color: #A0A0A0"> 516</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 517</span> <span style="color: #A0A0A0; background: #FFFFFF;">methods</span><br/>               <span style="color: #A0A0A0"> 518</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 519</span> <span style="color: #228B22; background: #FFFFFF;">    % -------------------------------------------------------------------------</span><br/>               <span style="color: #A0A0A0"> 520</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 521</span> <span style="color: #228B22; background: #FFFFFF;">    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span><br/>               <span style="color: #A0A0A0"> 522</span> <span style="color: #228B22; background: #FFFFFF;">    %%%   Constructor </span><br/>               <span style="color: #A0A0A0"> 523</span> <span style="color: #228B22; background: #FFFFFF;">    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span><br/>               <span style="color: #A0A0A0"> 524</span> <span style="color: #A0A0A0; background: #FFFFFF;">    function obj = memmapfile(filename, varargin)</span><br/>               <span style="color: #A0A0A0"> 525</span> <span style="color: #228B22; background: #FFFFFF;">        </span><br/>               <span style="color: #A0A0A0"> 526</span> <span style="color: #A0A0A0; background: #FFFFFF;">        error(nargchk(1, nargin, nargin, 'struct'));</span><br/>               <span style="color: #A0A0A0"> 527</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 528</span> <span style="color: #A0A0A0; background: #FFFFFF;">        if rem(length(varargin), 2) ~= 0</span><br/>               <span style="color: #A0A0A0"> 529</span> <span style="color: #A0A0A0; background: #FFFFFF;">            error('MATLAB:memmapfile:UnpairedParamsValues', 'Param/value pairs must come in pairs.');</span><br/>               <span style="color: #A0A0A0"> 530</span> <span style="color: #A0A0A0; background: #FFFFFF;">        end</span><br/>               <span style="color: #A0A0A0"> 531</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 532</span> <span style="color: #A0A0A0; background: #FFFFFF;">        obj.DataHandle = 0;</span><br/>               <span style="color: #A0A0A0"> 533</span> <span style="color: #A0A0A0; background: #FFFFFF;">        obj = hChangeFilename(obj, filename);</span><br/>               <span style="color: #A0A0A0"> 534</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 535</span> <span style="color: #228B22; background: #FFFFFF;">        % Parse param-value pairs</span><br/>               <span style="color: #A0A0A0"> 536</span> <span style="color: #A0A0A0; background: #FFFFFF;">        for i = 1:2:length(varargin)</span><br/>               <span style="color: #A0A0A0"> 537</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 538</span> <span style="color: #A0A0A0; background: #FFFFFF;">            if ~ischar(varargin{i})</span><br/>               <span style="color: #A0A0A0"> 539</span> <span style="color: #A0A0A0; background: #FFFFFF;">                error ('MATLAB:memmapfile:illegalParameter', ...</span><br/>               <span style="color: #A0A0A0"> 540</span> <span style="color: #A0A0A0; background: #FFFFFF;">                       'Parameter at input %d must be a string.', i);</span><br/>               <span style="color: #A0A0A0"> 541</span> <span style="color: #A0A0A0; background: #FFFFFF;">            end</span><br/>               <span style="color: #A0A0A0"> 542</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 543</span> <span style="color: #A0A0A0; background: #FFFFFF;">            fieldname = varargin{i};</span><br/>               <span style="color: #A0A0A0"> 544</span> <span style="color: #A0A0A0; background: #FFFFFF;">            if hIsPublicProperty(fieldname) &amp;&amp; ~strcmpi(fieldname, 'Filename')</span><br/>               <span style="color: #A0A0A0"> 545</span> <span style="color: #A0A0A0; background: #FFFFFF;">                obj.(hCapitalize(fieldname)) = varargin{i+1};</span><br/>               <span style="color: #A0A0A0"> 546</span> <span style="color: #228B22; background: #FFFFFF;">            else</span><br/>               <span style="color: #A0A0A0"> 547</span> <span style="color: #A0A0A0; background: #FFFFFF;">                error('MATLAB:memmapfile:illegalParameter', 'Parameter "%s" is unrecognized.', ...</span><br/>               <span style="color: #A0A0A0"> 548</span> <span style="color: #A0A0A0; background: #FFFFFF;">                      varargin{i});</span><br/>               <span style="color: #A0A0A0"> 549</span> <span style="color: #A0A0A0; background: #FFFFFF;">            end</span><br/>               <span style="color: #A0A0A0"> 550</span> <span style="color: #A0A0A0; background: #FFFFFF;">        end</span><br/>               <span style="color: #A0A0A0"> 551</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 552</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end % Constructor</span><br/>               <span style="color: #A0A0A0"> 553</span> <span style="color: #228B22; background: #FFFFFF;">    </span><br/>               <span style="color: #A0A0A0"> 554</span> <span style="color: #228B22; background: #FFFFFF;">    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span><br/>               <span style="color: #A0A0A0"> 555</span> <span style="color: #228B22; background: #FFFFFF;">    %%%   Sub-assignment method</span><br/>               <span style="color: #A0A0A0"> 556</span> <span style="color: #228B22; background: #FFFFFF;">    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span><br/>               <span style="color: #A0A0A0"> 557</span> <span style="color: #A0A0A0; background: #FFFFFF;">    function obj = subsasgn(obj, s, newval)</span><br/>               <span style="color: #A0A0A0"> 558</span> <span style="color: #A0A0A0; background: #FFFFFF;">        if s(1).type(1) ~= '.'</span><br/>               <span style="color: #A0A0A0"> 559</span> <span style="color: #A0A0A0; background: #FFFFFF;">            if s(1).type(1) == '('</span><br/>               <span style="color: #A0A0A0"> 560</span> <span style="color: #A0A0A0; background: #FFFFFF;">                error(hGetCommonMemmapfileError('MATLAB:memmapfile:illegalParenIndex'));</span><br/>               <span style="color: #A0A0A0"> 561</span> <span style="color: #228B22; background: #FFFFFF;">            else</span><br/>               <span style="color: #A0A0A0"> 562</span> <span style="color: #A0A0A0; background: #FFFFFF;">                error(hGetCommonMemmapfileError('MATLAB:memmapfile:illegalBraceIndex'));</span><br/>               <span style="color: #A0A0A0"> 563</span> <span style="color: #A0A0A0; background: #FFFFFF;">            end</span><br/>               <span style="color: #A0A0A0"> 564</span> <span style="color: #228B22; background: #FFFFFF;">        else</span><br/>               <span style="color: #A0A0A0"> 565</span> <span style="color: #A0A0A0; background: #FFFFFF;">            fieldname = s(1).subs;</span><br/>               <span style="color: #A0A0A0"> 566</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 567</span> <span style="color: #A0A0A0; background: #FFFFFF;">            if strcmpi(fieldname, 'data')</span><br/>               <span style="color: #A0A0A0"> 568</span> <span style="color: #A0A0A0; background: #FFFFFF;">                if ~obj.Writable</span><br/>               <span style="color: #A0A0A0"> 569</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    error('MATLAB:memmapfile:dataIsReadOnly', ...</span><br/>               <span style="color: #A0A0A0"> 570</span> <span style="color: #A0A0A0; background: #FFFFFF;">                          'Cannot modify Data field because Writable field is set to false.');</span><br/>               <span style="color: #A0A0A0"> 571</span> <span style="color: #A0A0A0; background: #FFFFFF;">                end</span><br/>               <span style="color: #A0A0A0"> 572</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 573</span> <span style="color: #A0A0A0; background: #FFFFFF;">                if (hIsCommaSeparatedListOperation(obj, s))</span><br/>               <span style="color: #A0A0A0"> 574</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    error(hGetCommonMemmapfileError('MATLAB:memmapfile:unsupportedCSL'));</span><br/>               <span style="color: #A0A0A0"> 575</span> <span style="color: #A0A0A0; background: #FFFFFF;">                end</span><br/>               <span style="color: #A0A0A0"> 576</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 577</span> <span style="color: #A0A0A0; background: #FFFFFF;">                if ~hIsMapped(obj.DataHandle)</span><br/>               <span style="color: #A0A0A0"> 578</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    hCreateMap(obj);</span><br/>               <span style="color: #A0A0A0"> 579</span> <span style="color: #A0A0A0; background: #FFFFFF;">                end</span><br/>               <span style="color: #A0A0A0"> 580</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 581</span> <span style="color: #A0A0A0; background: #FFFFFF;">                hDoDataSubsasgn(obj, s, newval);</span><br/>               <span style="color: #A0A0A0"> 582</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 583</span> <span style="color: #A0A0A0; background: #FFFFFF;">            elseif strcmpi(fieldname, 'filename')</span><br/>               <span style="color: #A0A0A0"> 584</span> <span style="color: #A0A0A0; background: #FFFFFF;">                if (length(s) &gt; 1)</span><br/>               <span style="color: #A0A0A0"> 585</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    newname = subsasgn(obj.Filename, s(2:end), newval);</span><br/>               <span style="color: #A0A0A0"> 586</span> <span style="color: #228B22; background: #FFFFFF;">                else</span><br/>               <span style="color: #A0A0A0"> 587</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    newname = newval;</span><br/>               <span style="color: #A0A0A0"> 588</span> <span style="color: #A0A0A0; background: #FFFFFF;">                end</span><br/>               <span style="color: #A0A0A0"> 589</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 590</span> <span style="color: #A0A0A0; background: #FFFFFF;">                obj = hChangeFilename(obj, newname);</span><br/>               <span style="color: #A0A0A0"> 591</span> <span style="color: #228B22; background: #FFFFFF;">            else</span><br/>               <span style="color: #A0A0A0"> 592</span> <span style="color: #A0A0A0; background: #FFFFFF;">                s(1).subs = hCapitalize(fieldname);</span><br/>               <span style="color: #A0A0A0"> 593</span> <span style="color: #A0A0A0; background: #FFFFFF;">                builtin('subsasgn', obj, s, newval);</span><br/>               <span style="color: #A0A0A0"> 594</span> <span style="color: #A0A0A0; background: #FFFFFF;">            end</span><br/>               <span style="color: #A0A0A0"> 595</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 596</span> <span style="color: #A0A0A0; background: #FFFFFF;">            if hIsPublicProperty(fieldname)</span><br/>               <span style="color: #A0A0A0"> 597</span> <span style="color: #A0A0A0; background: #FFFFFF;">                obj.DataHandle = 0;</span><br/>               <span style="color: #A0A0A0"> 598</span> <span style="color: #A0A0A0; background: #FFFFFF;">            end</span><br/>               <span style="color: #A0A0A0"> 599</span> <span style="color: #A0A0A0; background: #FFFFFF;">        end</span><br/>               <span style="color: #A0A0A0"> 600</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 601</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end % Subsassgn</span><br/>               <span style="color: #A0A0A0"> 602</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 603</span> <span style="color: #228B22; background: #FFFFFF;">    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span><br/>               <span style="color: #A0A0A0"> 604</span> <span style="color: #228B22; background: #FFFFFF;">    %%%   Sub-reference method</span><br/>               <span style="color: #A0A0A0"> 605</span> <span style="color: #228B22; background: #FFFFFF;">    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span><br/>               <span style="color: #A0A0A0"> 606</span> <span style="color: #A0A0A0; background: #FFFFFF;">    function varargout = subsref(obj, s)</span><br/>               <span style="color: #A0A0A0"> 607</span> <span style="color: #A0A0A0; background: #FFFFFF;">        if (s(1).type(1) == '.')</span><br/>               <span style="color: #A0A0A0"> 608</span> <span style="color: #A0A0A0; background: #FFFFFF;">            if strcmpi(s(1).subs, 'data')</span><br/>               <span style="color: #A0A0A0"> 609</span> <span style="color: #A0A0A0; background: #FFFFFF;">                if (hIsCommaSeparatedListOperation(obj, s))</span><br/>               <span style="color: #A0A0A0"> 610</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    error(hGetCommonMemmapfileError('MATLAB:memmapfile:unsupportedCSL'));</span><br/>               <span style="color: #A0A0A0"> 611</span> <span style="color: #A0A0A0; background: #FFFFFF;">                end</span><br/>               <span style="color: #A0A0A0"> 612</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 613</span> <span style="color: #A0A0A0; background: #FFFFFF;">                if ~hIsMapped(obj.DataHandle)</span><br/>               <span style="color: #A0A0A0"> 614</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    hCreateMap(obj);</span><br/>               <span style="color: #A0A0A0"> 615</span> <span style="color: #A0A0A0; background: #FFFFFF;">                end</span><br/>               <span style="color: #A0A0A0"> 616</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 617</span> <span style="color: #A0A0A0; background: #FFFFFF;">                varargout{1} = hSubsref(obj.DataHandle, s(2:end));</span><br/>               <span style="color: #A0A0A0"> 618</span> <span style="color: #228B22; background: #FFFFFF;">            else</span><br/>               <span style="color: #A0A0A0"> 619</span> <span style="color: #A0A0A0; background: #FFFFFF;">                if hIsPublicProperty(s(1).subs)</span><br/>               <span style="color: #A0A0A0"> 620</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    s(1).subs = hCapitalize(s(1).subs);</span><br/>               <span style="color: #A0A0A0"> 621</span> <span style="color: #228B22; background: #FFFFFF;">                else</span><br/>               <span style="color: #A0A0A0"> 622</span> <span style="color: #228B22; background: #FFFFFF;">                    % The names of all PrivateProperties have medial caps, which means this</span><br/>               <span style="color: #A0A0A0"> 623</span> <span style="color: #228B22; background: #FFFFFF;">                    % operation will filter them out. But all method names have</span><br/>               <span style="color: #A0A0A0"> 624</span> <span style="color: #228B22; background: #FFFFFF;">                    % only lower case letters, and this operation will not</span><br/>               <span style="color: #A0A0A0"> 625</span> <span style="color: #228B22; background: #FFFFFF;">                    % affect them.</span><br/>               <span style="color: #A0A0A0"> 626</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    s(1).subs = lower(s(1).subs);</span><br/>               <span style="color: #A0A0A0"> 627</span> <span style="color: #A0A0A0; background: #FFFFFF;">                end</span><br/>               <span style="color: #A0A0A0"> 628</span> <span style="color: #228B22; background: #FFFFFF;">                </span><br/>               <span style="color: #A0A0A0"> 629</span> <span style="color: #A0A0A0; background: #FFFFFF;">                [varargout{1:nargout}] = builtin('subsref', obj, s);</span><br/>               <span style="color: #A0A0A0"> 630</span> <span style="color: #A0A0A0; background: #FFFFFF;">            end        </span><br/>               <span style="color: #A0A0A0"> 631</span> <span style="color: #228B22; background: #FFFFFF;">        else</span><br/>               <span style="color: #A0A0A0"> 632</span> <span style="color: #A0A0A0; background: #FFFFFF;">            if s(1).type(1) == '('</span><br/>               <span style="color: #A0A0A0"> 633</span> <span style="color: #A0A0A0; background: #FFFFFF;">                error(hGetCommonMemmapfileError('MATLAB:memmapfile:illegalParenIndex'));</span><br/>               <span style="color: #A0A0A0"> 634</span> <span style="color: #228B22; background: #FFFFFF;">            else</span><br/>               <span style="color: #A0A0A0"> 635</span> <span style="color: #A0A0A0; background: #FFFFFF;">                error(hGetCommonMemmapfileError('MATLAB:memmapfile:illegalBraceIndex'));</span><br/>               <span style="color: #A0A0A0"> 636</span> <span style="color: #A0A0A0; background: #FFFFFF;">            end</span><br/>               <span style="color: #A0A0A0"> 637</span> <span style="color: #A0A0A0; background: #FFFFFF;">        end</span><br/>               <span style="color: #A0A0A0"> 638</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 639</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end % Subsref</span><br/>               <span style="color: #A0A0A0"> 640</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 641</span> <span style="color: #228B22; background: #FFFFFF;">    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span><br/>               <span style="color: #A0A0A0"> 642</span> <span style="color: #228B22; background: #FFFFFF;">    %%%   Get method</span><br/>               <span style="color: #A0A0A0"> 643</span> <span style="color: #228B22; background: #FFFFFF;">    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span><br/>               <span style="color: #A0A0A0"> 644</span> <span style="color: #A0A0A0; background: #FFFFFF;">    function mInfo = get(obj, property)</span><br/>               <span style="color: #A0A0A0"> 645</span> <span style="color: #A0A0A0; background: #FFFFFF;">        if nargin == 1</span><br/>               <span style="color: #A0A0A0"> 646</span> <span style="color: #A0A0A0; background: #FFFFFF;">            out.Filename = obj.Filename;</span><br/>               <span style="color: #A0A0A0"> 647</span> <span style="color: #A0A0A0; background: #FFFFFF;">            out.Writable = obj.Writable;</span><br/>               <span style="color: #A0A0A0"> 648</span> <span style="color: #A0A0A0; background: #FFFFFF;">            out.Offset = obj.Offset;</span><br/>               <span style="color: #A0A0A0"> 649</span> <span style="color: #A0A0A0; background: #FFFFFF;">            out.Format = obj.Format;</span><br/>               <span style="color: #A0A0A0"> 650</span> <span style="color: #A0A0A0; background: #FFFFFF;">            out.Repeat = obj.Repeat;</span><br/>               <span style="color: #A0A0A0"> 651</span> <span style="color: #A0A0A0; background: #FFFFFF;">            out.Data = subsref(obj, substruct('.', 'Data'));</span><br/>               <span style="color: #A0A0A0"> 652</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 653</span> <span style="color: #A0A0A0; background: #FFFFFF;">            if nargout == 0</span><br/>               <span style="color: #A0A0A0"> 654</span> <span style="color: #A0A0A0; background: #FFFFFF;">                disp(out);</span><br/>               <span style="color: #A0A0A0"> 655</span> <span style="color: #228B22; background: #FFFFFF;">            else</span><br/>               <span style="color: #A0A0A0"> 656</span> <span style="color: #A0A0A0; background: #FFFFFF;">                mInfo = out;</span><br/>               <span style="color: #A0A0A0"> 657</span> <span style="color: #A0A0A0; background: #FFFFFF;">            end</span><br/>               <span style="color: #A0A0A0"> 658</span> <span style="color: #228B22; background: #FFFFFF;">        else</span><br/>               <span style="color: #A0A0A0"> 659</span> <span style="color: #A0A0A0; background: #FFFFFF;">            if ischar(property)</span><br/>               <span style="color: #A0A0A0"> 660</span> <span style="color: #A0A0A0; background: #FFFFFF;">                if hIsPublicProperty(property)</span><br/>               <span style="color: #A0A0A0"> 661</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    mInfo = obj.(hCapitalize(property));</span><br/>               <span style="color: #A0A0A0"> 662</span> <span style="color: #A0A0A0; background: #FFFFFF;">                elseif strcmpi(property, 'data')</span><br/>               <span style="color: #A0A0A0"> 663</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    mInfo = subsref(obj, substruct('.', 'Data'));</span><br/>               <span style="color: #A0A0A0"> 664</span> <span style="color: #228B22; background: #FFFFFF;">                else</span><br/>               <span style="color: #A0A0A0"> 665</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    error('MATLAB:memmapfile:get:unknownProperty', ...</span><br/>               <span style="color: #A0A0A0"> 666</span> <span style="color: #A0A0A0; background: #FFFFFF;">                          'There is no ''%s'' property in the ''memmapfile'' class.', ...</span><br/>               <span style="color: #A0A0A0"> 667</span> <span style="color: #A0A0A0; background: #FFFFFF;">                          property);</span><br/>               <span style="color: #A0A0A0"> 668</span> <span style="color: #A0A0A0; background: #FFFFFF;">                end</span><br/>               <span style="color: #A0A0A0"> 669</span> <span style="color: #A0A0A0; background: #FFFFFF;">            elseif iscellstr(property)</span><br/>               <span style="color: #A0A0A0"> 670</span> <span style="color: #228B22; background: #FFFFFF;">                % Make sure property is a row vector.</span><br/>               <span style="color: #A0A0A0"> 671</span> <span style="color: #A0A0A0; background: #FFFFFF;">                property = property(:)';</span><br/>               <span style="color: #A0A0A0"> 672</span> <span style="color: #A0A0A0; background: #FFFFFF;">                mInfo = cell(1, length(property));</span><br/>               <span style="color: #A0A0A0"> 673</span> <span style="color: #A0A0A0; background: #FFFFFF;">                for i = 1:length(property)</span><br/>               <span style="color: #A0A0A0"> 674</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    mInfo{i} = get(obj, property{i});</span><br/>               <span style="color: #A0A0A0"> 675</span> <span style="color: #A0A0A0; background: #FFFFFF;">                end</span><br/>               <span style="color: #A0A0A0"> 676</span> <span style="color: #228B22; background: #FFFFFF;">            else</span><br/>               <span style="color: #A0A0A0"> 677</span> <span style="color: #A0A0A0; background: #FFFFFF;">                error('MATLAB:memmapfile:illegalPropertyType', ...</span><br/>               <span style="color: #A0A0A0"> 678</span> <span style="color: #A0A0A0; background: #FFFFFF;">                      'Property must be a string or cell array of strings.');</span><br/>               <span style="color: #A0A0A0"> 679</span> <span style="color: #A0A0A0; background: #FFFFFF;">            end</span><br/>               <span style="color: #A0A0A0"> 680</span> <span style="color: #A0A0A0; background: #FFFFFF;">        end</span><br/>               <span style="color: #A0A0A0"> 681</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 682</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end % GET method</span><br/>               <span style="color: #A0A0A0"> 683</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 684</span> <span style="color: #228B22; background: #FFFFFF;">    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span><br/>               <span style="color: #A0A0A0"> 685</span> <span style="color: #228B22; background: #FFFFFF;">    %%%   Disp method</span><br/>               <span style="color: #A0A0A0"> 686</span> <span style="color: #228B22; background: #FFFFFF;">    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span><br/>               <span style="color: #A0A0A0"> 687</span> <span style="color: #A0A0A0; background: #FFFFFF;">    function disp(obj)</span><br/>               <span style="color: #A0A0A0"> 688</span> <span style="color: #228B22; background: #FFFFFF;">        % %12s leaves exactly 4 spaces before the longest attribute, 'Filename', and</span><br/>               <span style="color: #A0A0A0"> 689</span> <span style="color: #228B22; background: #FFFFFF;">        % lines the other strings up by the colon, like how struct display works.</span><br/>               <span style="color: #A0A0A0"> 690</span> <span style="color: #A0A0A0; background: #FFFFFF;">        fprintf(1, '%12s: ''%s''\n', 'Filename', obj.Filename);</span><br/>               <span style="color: #A0A0A0"> 691</span> <span style="color: #A0A0A0; background: #FFFFFF;">        fprintf(1, '%12s: %s\n', 'Writable', mat2str(obj.Writable));</span><br/>               <span style="color: #A0A0A0"> 692</span> <span style="color: #A0A0A0; background: #FFFFFF;">        fprintf(1, '%12s: %d\n', 'Offset', obj.Offset);</span><br/>               <span style="color: #A0A0A0"> 693</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 694</span> <span style="color: #A0A0A0; background: #FFFFFF;">        fmt = obj.Format;</span><br/>               <span style="color: #A0A0A0"> 695</span> <span style="color: #A0A0A0; background: #FFFFFF;">        if ischar(fmt)</span><br/>               <span style="color: #A0A0A0"> 696</span> <span style="color: #A0A0A0; background: #FFFFFF;">            fprintf(1, '%12s: ''%s''\n', 'Format', fmt);</span><br/>               <span style="color: #A0A0A0"> 697</span> <span style="color: #228B22; background: #FFFFFF;">        else</span><br/>               <span style="color: #A0A0A0"> 698</span> <span style="color: #A0A0A0; background: #FFFFFF;">            fprintf(1, '%12s: {', 'Format');</span><br/>               <span style="color: #A0A0A0"> 699</span> <span style="color: #A0A0A0; background: #FFFFFF;">            for i = 1:size(fmt, 1)</span><br/>               <span style="color: #A0A0A0"> 700</span> <span style="color: #A0A0A0; background: #FFFFFF;">                if i &gt; 1</span><br/>               <span style="color: #A0A0A0"> 701</span> <span style="color: #A0A0A0; background: #FFFFFF;">                   fprintf(1, '%15s', '');</span><br/>               <span style="color: #A0A0A0"> 702</span> <span style="color: #A0A0A0; background: #FFFFFF;">                end</span><br/>               <span style="color: #A0A0A0"> 703</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 704</span> <span style="color: #A0A0A0; background: #FFFFFF;">                fprintf(1, '''%s'' [', fmt{i,1});</span><br/>               <span style="color: #A0A0A0"> 705</span> <span style="color: #A0A0A0; background: #FFFFFF;">                siz = fmt{i,2};</span><br/>               <span style="color: #A0A0A0"> 706</span> <span style="color: #A0A0A0; background: #FFFFFF;">                fprintf(1, '%d ', siz(1:end-1));</span><br/>               <span style="color: #A0A0A0"> 707</span> <span style="color: #A0A0A0; background: #FFFFFF;">                fprintf(1, '%d] ''%s''', siz(end), fmt{i,3});</span><br/>               <span style="color: #A0A0A0"> 708</span> <span style="color: #A0A0A0; background: #FFFFFF;">                if i == size(fmt, 1)</span><br/>               <span style="color: #A0A0A0"> 709</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    fprintf(1, '}');</span><br/>               <span style="color: #A0A0A0"> 710</span> <span style="color: #A0A0A0; background: #FFFFFF;">                end</span><br/>               <span style="color: #A0A0A0"> 711</span> <span style="color: #A0A0A0; background: #FFFFFF;">                fprintf('\n');</span><br/>               <span style="color: #A0A0A0"> 712</span> <span style="color: #A0A0A0; background: #FFFFFF;">            end</span><br/>               <span style="color: #A0A0A0"> 713</span> <span style="color: #A0A0A0; background: #FFFFFF;">        end</span><br/>               <span style="color: #A0A0A0"> 714</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 715</span> <span style="color: #A0A0A0; background: #FFFFFF;">        fprintf(1, '%12s: %d\n', 'Repeat', obj.Repeat);</span><br/>               <span style="color: #A0A0A0"> 716</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 717</span> <span style="color: #228B22; background: #FFFFFF;">        % Don't print out all of Data, it could be really big. Print a summary instead.</span><br/>               <span style="color: #A0A0A0"> 718</span> <span style="color: #A0A0A0; background: #FFFFFF;">        fprintf(1, '%12s: ', 'Data');</span><br/>               <span style="color: #A0A0A0"> 719</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 720</span> <span style="color: #A0A0A0; background: #FFFFFF;">        siz = hGetDataSize(obj);</span><br/>               <span style="color: #A0A0A0"> 721</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 722</span> <span style="color: #A0A0A0; background: #FFFFFF;">        if iscell(obj.Format)</span><br/>               <span style="color: #A0A0A0"> 723</span> <span style="color: #A0A0A0; background: #FFFFFF;">            fprintf(1, '%ldx%ld struct array with ', siz);</span><br/>               <span style="color: #A0A0A0"> 724</span> <span style="color: #A0A0A0; background: #FFFFFF;">            fprintf(1, 'fields:\n');</span><br/>               <span style="color: #A0A0A0"> 725</span> <span style="color: #A0A0A0; background: #FFFFFF;">            fprintf(1, '%17s\n', obj.Format{:,3});</span><br/>               <span style="color: #A0A0A0"> 726</span> <span style="color: #228B22; background: #FFFFFF;">        else</span><br/>               <span style="color: #A0A0A0"> 727</span> <span style="color: #A0A0A0; background: #FFFFFF;">            fprintf(1, '%ldx%ld %s array\n', siz, obj.Format);</span><br/>               <span style="color: #A0A0A0"> 728</span> <span style="color: #A0A0A0; background: #FFFFFF;">        end </span><br/>               <span style="color: #A0A0A0"> 729</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 730</span> <span style="color: #A0A0A0; background: #FFFFFF;">        if strcmp(get(0, 'FormatSpacing'), 'loose')</span><br/>               <span style="color: #A0A0A0"> 731</span> <span style="color: #A0A0A0; background: #FFFFFF;">            fprintf(1, '\n');</span><br/>               <span style="color: #A0A0A0"> 732</span> <span style="color: #A0A0A0; background: #FFFFFF;">        end</span><br/>               <span style="color: #A0A0A0"> 733</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 734</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end % Disp method</span><br/>               <span style="color: #A0A0A0"> 735</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 736</span> <span style="color: #228B22; background: #FFFFFF;">    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span><br/>               <span style="color: #A0A0A0"> 737</span> <span style="color: #228B22; background: #FFFFFF;">    %%% Struct method</span><br/>               <span style="color: #A0A0A0"> 738</span> <span style="color: #228B22; background: #FFFFFF;">    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span><br/>               <span style="color: #A0A0A0"> 739</span> <span style="color: #A0A0A0; background: #FFFFFF;">    function s = struct(~) %#ok&lt;STOUT&gt;</span><br/>               <span style="color: #A0A0A0"> 740</span> <span style="color: #A0A0A0; background: #FFFFFF;">        error('MATLAB:memmapfile:noStructConversion', ...</span><br/>               <span style="color: #A0A0A0"> 741</span> <span style="color: #A0A0A0; background: #FFFFFF;">              'Memmapfile objects cannot be converted to structures.');</span><br/>               <span style="color: #A0A0A0"> 742</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end % Struct method</span><br/>               <span style="color: #A0A0A0"> 743</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 744</span> <span style="color: #228B22; background: #FFFFFF;">    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span><br/>               <span style="color: #A0A0A0"> 745</span> <span style="color: #228B22; background: #FFFFFF;">    %%% horzcat method</span><br/>               <span style="color: #A0A0A0"> 746</span> <span style="color: #228B22; background: #FFFFFF;">    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span><br/>               <span style="color: #A0A0A0"> 747</span> <span style="color: #A0A0A0; background: #FFFFFF;">    function c=horzcat(varargin) %#ok&lt;STOUT&gt;</span><br/>               <span style="color: #A0A0A0"> 748</span> <span style="color: #A0A0A0; background: #FFFFFF;">        error(hGetCommonMemmapfileError('MATLAB:memmapfile:noCatenation'));</span><br/>               <span style="color: #A0A0A0"> 749</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end % horzcat</span><br/>               <span style="color: #A0A0A0"> 750</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 751</span> <span style="color: #228B22; background: #FFFFFF;">    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span><br/>               <span style="color: #A0A0A0"> 752</span> <span style="color: #228B22; background: #FFFFFF;">    %%% vertcat method</span><br/>               <span style="color: #A0A0A0"> 753</span> <span style="color: #228B22; background: #FFFFFF;">    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span><br/>               <span style="color: #A0A0A0"> 754</span> <span style="color: #A0A0A0; background: #FFFFFF;">    function c=vertcat(varargin) %#ok&lt;STOUT&gt;</span><br/>               <span style="color: #A0A0A0"> 755</span> <span style="color: #A0A0A0; background: #FFFFFF;">        error(hGetCommonMemmapfileError('MATLAB:memmapfile:noCatenation'));</span><br/>               <span style="color: #A0A0A0"> 756</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end % vertcat</span><br/>               <span style="color: #A0A0A0"> 757</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 758</span> <span style="color: #228B22; background: #FFFFFF;">    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span><br/>               <span style="color: #A0A0A0"> 759</span> <span style="color: #228B22; background: #FFFFFF;">    %%% cat method</span><br/>               <span style="color: #A0A0A0"> 760</span> <span style="color: #228B22; background: #FFFFFF;">    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span><br/>               <span style="color: #A0A0A0"> 761</span> <span style="color: #A0A0A0; background: #FFFFFF;">    function c=cat(varargin) %#ok&lt;STOUT&gt;</span><br/>               <span style="color: #A0A0A0"> 762</span> <span style="color: #A0A0A0; background: #FFFFFF;">        error(hGetCommonMemmapfileError('MATLAB:memmapfile:noCatenation'));</span><br/>               <span style="color: #A0A0A0"> 763</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end % cat</span><br/>               <span style="color: #A0A0A0"> 764</span> <span style="color: #A0A0A0; background: #FFFFFF;">end % methods</span><br/>               <span style="color: #A0A0A0"> 765</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 766</span> <span style="color: #228B22; background: #FFFFFF;">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span><br/>               <span style="color: #A0A0A0"> 767</span> <span style="color: #228B22; background: #FFFFFF;">%%% Helper method to delete underlying memory map file handle</span><br/>               <span style="color: #A0A0A0"> 768</span> <span style="color: #228B22; background: #FFFFFF;">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span><br/>               <span style="color: #A0A0A0"> 769</span> <span style="color: #A0A0A0; background: #FFFFFF;">methods(Static = true)</span><br/>               <span style="color: #A0A0A0"> 770</span> <span style="color: #A0A0A0; background: #FFFFFF;">    function DeleteDataHandle(dh)</span><br/>               <span style="color: #A0A0A0"> 771</span> <span style="color: #A0A0A0; background: #FFFFFF;">        if ~isequal(dh, 0) </span><br/>               <span style="color: #A0A0A0"> 772</span> <span style="color: #A0A0A0; background: #FFFFFF;">            if hIsMapped(dh) </span><br/>               <span style="color: #A0A0A0"> 773</span> <span style="color: #A0A0A0; background: #FFFFFF;">                n = hUnmapFile(dh); %#ok&lt;NASGU&gt;</span><br/>               <span style="color: #A0A0A0"> 774</span> <span style="color: #A0A0A0; background: #FFFFFF;">            end</span><br/>               <span style="color: #A0A0A0"> 775</span> <span style="color: #A0A0A0; background: #FFFFFF;">            hDeleteDataHandle(dh);</span><br/>               <span style="color: #A0A0A0"> 776</span> <span style="color: #A0A0A0; background: #FFFFFF;">        end</span><br/>               <span style="color: #A0A0A0"> 777</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end</span><br/>               <span style="color: #A0A0A0"> 778</span> <span style="color: #A0A0A0; background: #FFFFFF;">    function obj = loadobj(obj)</span><br/>               <span style="color: #A0A0A0"> 779</span> <span style="color: #A0A0A0; background: #FFFFFF;">        if isa(obj, 'memmapfile')</span><br/>               <span style="color: #A0A0A0"> 780</span> <span style="color: #A0A0A0; background: #FFFFFF;">            obj.DataHandle = 0;</span><br/>               <span style="color: #A0A0A0"> 781</span> <span style="color: #A0A0A0; background: #FFFFFF;">        end</span><br/>               <span style="color: #A0A0A0"> 782</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end</span><br/>               <span style="color: #A0A0A0"> 783</span> <span style="color: #228B22; background: #FFFFFF;">    </span><br/>               <span style="color: #A0A0A0"> 784</span> <span style="color: #A0A0A0; background: #FFFFFF;">    function obj = empty(varargin) %#ok&lt;STOUT&gt;</span><br/>               <span style="color: #A0A0A0"> 785</span> <span style="color: #A0A0A0; background: #FFFFFF;">         error(hGetCommonMemmapfileError('MATLAB:memmapfile:noEmptyMethod'));</span><br/>               <span style="color: #A0A0A0"> 786</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end</span><br/>               <span style="color: #A0A0A0"> 787</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 788</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span><br/>               <span style="color: #A0A0A0"> 789</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 790</span> <span style="color: #A0A0A0; background: #FFFFFF;">end % Class definition</span><br/>               <span style="color: #A0A0A0"> 791</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 792</span> <span style="color: #228B22; background: #FFFFFF;">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span><br/>               <span style="color: #A0A0A0"> 793</span> <span style="color: #228B22; background: #FFFFFF;">%%% Helper functions</span><br/>               <span style="color: #A0A0A0"> 794</span> <span style="color: #228B22; background: #FFFFFF;">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span><br/>               <span style="color: #A0A0A0"> 795</span> <span style="color: #228B22; background: #FFFFFF;">% -------------------------------------------------------------------------</span><br/>               <span style="color: #A0A0A0"> 796</span> <span style="color: #228B22; background: #FFFFFF;">% Validate memmapfile Format field setting.</span><br/>               <span style="color: #A0A0A0"> 797</span> <span style="color: #A0A0A0; background: #FFFFFF;">function isvalid = hIsValidFormat(format)</span><br/>               <span style="color: #A0A0A0"> 798</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 799</span> <span style="color: #A0A0A0; background: #FFFFFF;">if ischar(format)</span><br/>               <span style="color: #A0A0A0"> 800</span> <span style="color: #A0A0A0; background: #FFFFFF;">    switch(format)</span><br/>               <span style="color: #A0A0A0"> 801</span> <span style="color: #A0A0A0; background: #FFFFFF;">        case {'double', 'int8', 'int16', 'int32', 'int64', ...</span><br/>               <span style="color: #A0A0A0"> 802</span> <span style="color: #A0A0A0; background: #FFFFFF;">              'uint8', 'uint16', 'uint32', 'uint64', ...</span><br/>               <span style="color: #A0A0A0"> 803</span> <span style="color: #A0A0A0; background: #FFFFFF;">              'single'}</span><br/>               <span style="color: #A0A0A0"> 804</span> <span style="color: #A0A0A0; background: #FFFFFF;">            isvalid = true;</span><br/>               <span style="color: #A0A0A0"> 805</span> <span style="color: #A0A0A0; background: #FFFFFF;">        otherwise</span><br/>               <span style="color: #A0A0A0"> 806</span> <span style="color: #A0A0A0; background: #FFFFFF;">            isvalid = false;</span><br/>               <span style="color: #A0A0A0"> 807</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end</span><br/>               <span style="color: #A0A0A0"> 808</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 809</span> <span style="color: #A0A0A0; background: #FFFFFF;">elseif iscell(format)</span><br/>               <span style="color: #A0A0A0"> 810</span> <span style="color: #A0A0A0; background: #FFFFFF;">    if size(format, 1) &lt; 1 || size(format, 2) ~= 3</span><br/>               <span style="color: #A0A0A0"> 811</span> <span style="color: #A0A0A0; background: #FFFFFF;">        isvalid = false;</span><br/>               <span style="color: #A0A0A0"> 812</span> <span style="color: #228B22; background: #FFFFFF;">    else</span><br/>               <span style="color: #A0A0A0"> 813</span> <span style="color: #A0A0A0; background: #FFFFFF;">        isvalid = true;</span><br/>               <span style="color: #A0A0A0"> 814</span> <span style="color: #A0A0A0; background: #FFFFFF;">        for i = 1:size(format, 1)</span><br/>               <span style="color: #A0A0A0"> 815</span> <span style="color: #A0A0A0; background: #FFFFFF;">            field1 = format{i,1};</span><br/>               <span style="color: #A0A0A0"> 816</span> <span style="color: #A0A0A0; background: #FFFFFF;">            field2 = format{i,2};</span><br/>               <span style="color: #A0A0A0"> 817</span> <span style="color: #A0A0A0; background: #FFFFFF;">            field3 = format{i,3};</span><br/>               <span style="color: #A0A0A0"> 818</span> <span style="color: #228B22; background: #FFFFFF;">            % field 1 must be a string containing one of the supported</span><br/>               <span style="color: #A0A0A0"> 819</span> <span style="color: #228B22; background: #FFFFFF;">            % basic data types.</span><br/>               <span style="color: #A0A0A0"> 820</span> <span style="color: #A0A0A0; background: #FFFFFF;">            if ~ischar(field1) || ~hIsValidFormat(field1)</span><br/>               <span style="color: #A0A0A0"> 821</span> <span style="color: #A0A0A0; background: #FFFFFF;">                isvalid = false;</span><br/>               <span style="color: #A0A0A0"> 822</span> <span style="color: #228B22; background: #FFFFFF;">            % field 2 must be a 1xN double array such that N &gt; 0. </span><br/>               <span style="color: #A0A0A0"> 823</span> <span style="color: #A0A0A0; background: #FFFFFF;">            elseif ~isa(field2, 'double') || ndims(field2) ~= 2 || ...</span><br/>               <span style="color: #A0A0A0"> 824</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    size(field2, 1) ~= 1 || size(field2, 2) &lt; 1</span><br/>               <span style="color: #A0A0A0"> 825</span> <span style="color: #A0A0A0; background: #FFFFFF;">                isvalid = false;</span><br/>               <span style="color: #A0A0A0"> 826</span> <span style="color: #228B22; background: #FFFFFF;">            % field 2 must contain nonnegative integral values </span><br/>               <span style="color: #A0A0A0"> 827</span> <span style="color: #A0A0A0; background: #FFFFFF;">            elseif any(field2 &lt; 0 | ~isfinite(field2) | ...</span><br/>               <span style="color: #A0A0A0"> 828</span> <span style="color: #A0A0A0; background: #FFFFFF;">                       ~isreal(field2) | field2 ~= fix(field2))</span><br/>               <span style="color: #A0A0A0"> 829</span> <span style="color: #A0A0A0; background: #FFFFFF;">                isvalid = false;</span><br/>               <span style="color: #A0A0A0"> 830</span> <span style="color: #228B22; background: #FFFFFF;">            % field 3 must be a legal MATLAB variable name.</span><br/>               <span style="color: #A0A0A0"> 831</span> <span style="color: #A0A0A0; background: #FFFFFF;">            elseif ~isvarname(field3)</span><br/>               <span style="color: #A0A0A0"> 832</span> <span style="color: #A0A0A0; background: #FFFFFF;">                isvalid = false;</span><br/>               <span style="color: #A0A0A0"> 833</span> <span style="color: #A0A0A0; background: #FFFFFF;">            end</span><br/>               <span style="color: #A0A0A0"> 834</span> <span style="color: #A0A0A0; background: #FFFFFF;">        end</span><br/>               <span style="color: #A0A0A0"> 835</span> <span style="color: #228B22; background: #FFFFFF;">        </span><br/>               <span style="color: #A0A0A0"> 836</span> <span style="color: #228B22; background: #FFFFFF;">        % Make sure all field names are unique and that overall frame size is &gt; 0</span><br/>               <span style="color: #A0A0A0"> 837</span> <span style="color: #A0A0A0; background: #FFFFFF;">        if isvalid</span><br/>               <span style="color: #A0A0A0"> 838</span> <span style="color: #A0A0A0; background: #FFFFFF;">            fields = format(:,3);</span><br/>               <span style="color: #A0A0A0"> 839</span> <span style="color: #A0A0A0; background: #FFFFFF;">            if length(fields) &gt; length(unique(fields))</span><br/>               <span style="color: #A0A0A0"> 840</span> <span style="color: #A0A0A0; background: #FFFFFF;">                isvalid = false;</span><br/>               <span style="color: #A0A0A0"> 841</span> <span style="color: #A0A0A0; background: #FFFFFF;">            elseif hFrameSize(format) == 0</span><br/>               <span style="color: #A0A0A0"> 842</span> <span style="color: #A0A0A0; background: #FFFFFF;">                isvalid = false;</span><br/>               <span style="color: #A0A0A0"> 843</span> <span style="color: #A0A0A0; background: #FFFFFF;">            end</span><br/>               <span style="color: #A0A0A0"> 844</span> <span style="color: #A0A0A0; background: #FFFFFF;">        end</span><br/>               <span style="color: #A0A0A0"> 845</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end</span><br/>               <span style="color: #A0A0A0"> 846</span> <span style="color: #228B22; background: #FFFFFF;">else</span><br/>               <span style="color: #A0A0A0"> 847</span> <span style="color: #A0A0A0; background: #FFFFFF;">    isvalid = false;</span><br/>               <span style="color: #A0A0A0"> 848</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span><br/>               <span style="color: #A0A0A0"> 849</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 850</span> <span style="color: #A0A0A0; background: #FFFFFF;">end % hIsValidFormat</span><br/>               <span style="color: #A0A0A0"> 851</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 852</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 853</span> <span style="color: #228B22; background: #FFFFFF;">% -------------------------------------------------------------------------</span><br/>               <span style="color: #A0A0A0"> 854</span> <span style="color: #228B22; background: #FFFFFF;">% Return size of a single frame in bytes.</span><br/>               <span style="color: #A0A0A0"> 855</span> <span style="color: #A0A0A0; background: #FFFFFF;">function sz = hFrameSize(format)</span><br/>               <span style="color: #A0A0A0"> 856</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 857</span> <span style="color: #A0A0A0; background: #FFFFFF;">sz = 0;</span><br/>               <span style="color: #A0A0A0"> 858</span> <span style="color: #A0A0A0; background: #FFFFFF;">if iscell(format)</span><br/>               <span style="color: #A0A0A0"> 859</span> <span style="color: #A0A0A0; background: #FFFFFF;">    for i=1:size(format, 1)</span><br/>               <span style="color: #A0A0A0"> 860</span> <span style="color: #A0A0A0; background: #FFFFFF;">        sz = sz + hFrameSize(format{i,1}) * prod(format{i,2});</span><br/>               <span style="color: #A0A0A0"> 861</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end</span><br/>               <span style="color: #A0A0A0"> 862</span> <span style="color: #228B22; background: #FFFFFF;">else</span><br/>               <span style="color: #A0A0A0"> 863</span> <span style="color: #A0A0A0; background: #FFFFFF;">    switch format</span><br/>               <span style="color: #A0A0A0"> 864</span> <span style="color: #A0A0A0; background: #FFFFFF;">        case {'int8', 'uint8'}</span><br/>               <span style="color: #A0A0A0"> 865</span> <span style="color: #A0A0A0; background: #FFFFFF;">            sz = 1;</span><br/>               <span style="color: #A0A0A0"> 866</span> <span style="color: #228B22; background: #FFFFFF;">            </span><br/>               <span style="color: #A0A0A0"> 867</span> <span style="color: #A0A0A0; background: #FFFFFF;">        case {'int16', 'uint16'}</span><br/>               <span style="color: #A0A0A0"> 868</span> <span style="color: #A0A0A0; background: #FFFFFF;">            sz = 2;</span><br/>               <span style="color: #A0A0A0"> 869</span> <span style="color: #228B22; background: #FFFFFF;">            </span><br/>               <span style="color: #A0A0A0"> 870</span> <span style="color: #A0A0A0; background: #FFFFFF;">        case {'int32', 'uint32', 'single'}</span><br/>               <span style="color: #A0A0A0"> 871</span> <span style="color: #A0A0A0; background: #FFFFFF;">            sz = 4;</span><br/>               <span style="color: #A0A0A0"> 872</span> <span style="color: #228B22; background: #FFFFFF;">            </span><br/>               <span style="color: #A0A0A0"> 873</span> <span style="color: #A0A0A0; background: #FFFFFF;">        case {'double', 'int64', 'uint64'}</span><br/>               <span style="color: #A0A0A0"> 874</span> <span style="color: #A0A0A0; background: #FFFFFF;">            sz = 8;</span><br/>               <span style="color: #A0A0A0"> 875</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end</span><br/>               <span style="color: #A0A0A0"> 876</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span><br/>               <span style="color: #A0A0A0"> 877</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 878</span> <span style="color: #A0A0A0; background: #FFFFFF;">end % hFrameSize</span><br/>               <span style="color: #A0A0A0"> 879</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 880</span> <span style="color: #228B22; background: #FFFFFF;">% -------------------------------------------------------------------------</span><br/>               <span style="color: #A0A0A0"> 881</span> <span style="color: #228B22; background: #FFFFFF;">% Resolve a filename into a fullpath name. origFilename is the name specified by the user;</span><br/>               <span style="color: #A0A0A0"> 882</span> <span style="color: #228B22; background: #FFFFFF;">% foundFilename is the name found by fopen (which includes path information if found on </span><br/>               <span style="color: #A0A0A0"> 883</span> <span style="color: #228B22; background: #FFFFFF;">% the MATLABPATH).</span><br/>               <span style="color: #A0A0A0"> 884</span> <span style="color: #A0A0A0; background: #FFFFFF;">function resolvedName = hResolveFilename(origFilename, foundFilename)</span><br/>               <span style="color: #A0A0A0"> 885</span> <span style="color: #A0A0A0; background: #FFFFFF;">[directory, basename, extension] = fileparts(origFilename);</span><br/>               <span style="color: #A0A0A0"> 886</span> <span style="color: #A0A0A0; background: #FFFFFF;">if isempty(directory)</span><br/>               <span style="color: #A0A0A0"> 887</span> <span style="color: #228B22; background: #FFFFFF;">    % If we can avoid CD'ing around, lets do it. CD'ing can be slow.</span><br/>               <span style="color: #A0A0A0"> 888</span> <span style="color: #228B22; background: #FFFFFF;">    </span><br/>               <span style="color: #A0A0A0"> 889</span> <span style="color: #228B22; background: #FFFFFF;">    % File found either on path or in current directory. Need to decide which</span><br/>               <span style="color: #A0A0A0"> 890</span> <span style="color: #A0A0A0; background: #FFFFFF;">    directoryOfFound = fileparts(foundFilename);</span><br/>               <span style="color: #A0A0A0"> 891</span> <span style="color: #A0A0A0; background: #FFFFFF;">    if isempty(directoryOfFound)</span><br/>               <span style="color: #A0A0A0"> 892</span> <span style="color: #228B22; background: #FFFFFF;">        % Must have been found in current directory</span><br/>               <span style="color: #A0A0A0"> 893</span> <span style="color: #A0A0A0; background: #FFFFFF;">        resolvedName = fullfile(pwd, origFilename);</span><br/>               <span style="color: #A0A0A0"> 894</span> <span style="color: #228B22; background: #FFFFFF;">    else</span><br/>               <span style="color: #A0A0A0"> 895</span> <span style="color: #A0A0A0; background: #FFFFFF;">        resolvedName = foundFilename;</span><br/>               <span style="color: #A0A0A0"> 896</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end</span><br/>               <span style="color: #A0A0A0"> 897</span> <span style="color: #228B22; background: #FFFFFF;">else</span><br/>               <span style="color: #A0A0A0"> 898</span> <span style="color: #228B22; background: #FFFFFF;">    % Expand partial path name to full name</span><br/>               <span style="color: #A0A0A0"> 899</span> <span style="color: #A0A0A0; background: #FFFFFF;">    ws = warning('off', 'all');</span><br/>               <span style="color: #A0A0A0"> 900</span> <span style="color: #A0A0A0; background: #FFFFFF;">    warningGuard = onCleanup(@() warning(ws));</span><br/>               <span style="color: #A0A0A0"> 901</span> <span style="color: #A0A0A0; background: #FFFFFF;">    oldDir = cd(directory);</span><br/>               <span style="color: #A0A0A0"> 902</span> <span style="color: #A0A0A0; background: #FFFFFF;">    resolvedName = fullfile(cd(oldDir), [basename extension]);</span><br/>               <span style="color: #A0A0A0"> 903</span> <span style="color: #A0A0A0; background: #FFFFFF;">    clear warningGuard</span><br/>               <span style="color: #A0A0A0"> 904</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span><br/>               <span style="color: #A0A0A0"> 905</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 906</span> <span style="color: #A0A0A0; background: #FFFFFF;">end % hResolveFilename</span><br/>               <span style="color: #A0A0A0"> 907</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 908</span> <span style="color: #228B22; background: #FFFFFF;">% -------------------------------------------------------------------------</span><br/>               <span style="color: #A0A0A0"> 909</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 910</span> <span style="color: #228B22; background: #FFFFFF;">% A(:)=B or A.f(:)=B has the internal effect of replacing</span><br/>               <span style="color: #A0A0A0"> 911</span> <span style="color: #228B22; background: #FFFFFF;">% A with B (after appropriate error checking is made). This causes us </span><br/>               <span style="color: #A0A0A0"> 912</span> <span style="color: #228B22; background: #FFFFFF;">% to lose the memory mapped data pointer. To work around this,</span><br/>               <span style="color: #A0A0A0"> 913</span> <span style="color: #228B22; background: #FFFFFF;">% we transform to A(:,:)=reshape(B, size(A, 1), []) or</span><br/>               <span style="color: #A0A0A0"> 914</span> <span style="color: #228B22; background: #FFFFFF;">% A.f(:,:)=reshape(B, size(A, 1), [])</span><br/>               <span style="color: #A0A0A0"> 915</span> <span style="color: #A0A0A0; background: #FFFFFF;">function [S, RHS] = hMapToTwoColonIndices(LHS, S, RHS)</span><br/>               <span style="color: #A0A0A0"> 916</span> <span style="color: #A0A0A0; background: #FFFFFF;">RHS = reshape(RHS, size(LHS, 1), []);</span><br/>               <span style="color: #A0A0A0"> 917</span> <span style="color: #A0A0A0; background: #FFFFFF;">S = [S substruct('()', {':', ':'})];</span><br/>               <span style="color: #A0A0A0"> 918</span> <span style="color: #A0A0A0; background: #FFFFFF;">end % hMapToTwoColonIndices</span><br/>               <span style="color: #A0A0A0"> 919</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 920</span> <span style="color: #228B22; background: #FFFFFF;">% -------------------------------------------------------------------------</span><br/>               <span style="color: #A0A0A0"> 921</span> <span style="color: #228B22; background: #FFFFFF;">% Check to see if we need to work around internal optimization of single colon</span><br/>               <span style="color: #A0A0A0"> 922</span> <span style="color: #228B22; background: #FFFFFF;">% index. If subscript-assigning a non-scalar to a single-colon indexed variable,</span><br/>               <span style="color: #A0A0A0"> 923</span> <span style="color: #228B22; background: #FFFFFF;">% we need to map to an equivalent double colon index.</span><br/>               <span style="color: #A0A0A0"> 924</span> <span style="color: #A0A0A0; background: #FFFFFF;">function [S, RHS] = hFixSubscriptedColonAssignment(LHS, S, RHS)</span><br/>               <span style="color: #A0A0A0"> 925</span> <span style="color: #A0A0A0; background: #FFFFFF;">if isequal(S(end).subs, {':'}) &amp;&amp; ~isscalar(RHS) &amp;&amp; ...</span><br/>               <span style="color: #A0A0A0"> 926</span> <span style="color: #A0A0A0; background: #FFFFFF;">        numel(LHS) == numel(RHS)</span><br/>               <span style="color: #A0A0A0"> 927</span> <span style="color: #A0A0A0; background: #FFFFFF;">    [S, RHS] = hMapToTwoColonIndices(LHS, S(1:end-1), RHS);</span><br/>               <span style="color: #A0A0A0"> 928</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span><br/>               <span style="color: #A0A0A0"> 929</span> <span style="color: #A0A0A0; background: #FFFFFF;">end % hFixSubscriptedColonAssignment</span><br/>               <span style="color: #A0A0A0"> 930</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 931</span> <span style="color: #228B22; background: #FFFFFF;">% -------------------------------------------------------------------------</span><br/>               <span style="color: #A0A0A0"> 932</span> <span style="color: #228B22; background: #FFFFFF;">% Check maximum value of subscript values in each subscript position against</span><br/>               <span style="color: #A0A0A0"> 933</span> <span style="color: #228B22; background: #FFFFFF;">% actual size of LHS in corresponding dimension. As a special case, if</span><br/>               <span style="color: #A0A0A0"> 934</span> <span style="color: #228B22; background: #FFFFFF;">% only one subscript position is used (i.e. A(M)=N) then check maximum value of</span><br/>               <span style="color: #A0A0A0"> 935</span> <span style="color: #228B22; background: #FFFFFF;">% M against total number of elements in N.</span><br/>               <span style="color: #A0A0A0"> 936</span> <span style="color: #A0A0A0; background: #FFFFFF;">function outOfRange = hSubsasgnIndexOutOfRange(LHS, indices)</span><br/>               <span style="color: #A0A0A0"> 937</span> <span style="color: #A0A0A0; background: #FFFFFF;">for index = 1:length(indices)</span><br/>               <span style="color: #A0A0A0"> 938</span> <span style="color: #A0A0A0; background: #FFFFFF;">    I = indices{index};</span><br/>               <span style="color: #A0A0A0"> 939</span> <span style="color: #228B22; background: #FFFFFF;">    % colon index can never be bigger than existing dimension.</span><br/>               <span style="color: #A0A0A0"> 940</span> <span style="color: #A0A0A0; background: #FFFFFF;">    if ~isequal(I, ':')</span><br/>               <span style="color: #A0A0A0"> 941</span> <span style="color: #228B22; background: #FFFFFF;">        % Convert logical indices to numeric indices with FIND.</span><br/>               <span style="color: #A0A0A0"> 942</span> <span style="color: #A0A0A0; background: #FFFFFF;">        if islogical(I)</span><br/>               <span style="color: #A0A0A0"> 943</span> <span style="color: #A0A0A0; background: #FFFFFF;">            Imax = max([0; find(I(:))]);</span><br/>               <span style="color: #A0A0A0"> 944</span> <span style="color: #228B22; background: #FFFFFF;">        else</span><br/>               <span style="color: #A0A0A0"> 945</span> <span style="color: #A0A0A0; background: #FFFFFF;">            Imax = max([0; I(:)]);</span><br/>               <span style="color: #A0A0A0"> 946</span> <span style="color: #A0A0A0; background: #FFFFFF;">        end</span><br/>               <span style="color: #A0A0A0"> 947</span> <span style="color: #228B22; background: #FFFFFF;">        </span><br/>               <span style="color: #A0A0A0"> 948</span> <span style="color: #A0A0A0; background: #FFFFFF;">        if (length(indices) == 1 &amp;&amp; Imax &gt; numel(LHS)) || ...</span><br/>               <span style="color: #A0A0A0"> 949</span> <span style="color: #A0A0A0; background: #FFFFFF;">                length(indices)  &gt; 1 &amp;&amp; Imax &gt; size(LHS, index)</span><br/>               <span style="color: #A0A0A0"> 950</span> <span style="color: #A0A0A0; background: #FFFFFF;">            outOfRange = true;</span><br/>               <span style="color: #A0A0A0"> 951</span> <span style="color: #A0A0A0; background: #FFFFFF;">            return;</span><br/>               <span style="color: #A0A0A0"> 952</span> <span style="color: #A0A0A0; background: #FFFFFF;">        end</span><br/>               <span style="color: #A0A0A0"> 953</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end</span><br/>               <span style="color: #A0A0A0"> 954</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span><br/>               <span style="color: #A0A0A0"> 955</span> <span style="color: #A0A0A0; background: #FFFFFF;">outOfRange = false;</span><br/>               <span style="color: #A0A0A0"> 956</span> <span style="color: #A0A0A0; background: #FFFFFF;">end % hSubsasgnIndexOutOfRange</span><br/>               <span style="color: #A0A0A0"> 957</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 958</span> <span style="color: #228B22; background: #FFFFFF;">% -------------------------------------------------------------------------</span><br/>               <span style="color: #A0A0A0"> 959</span> <span style="color: #228B22; background: #FFFFFF;">% Check if an subscripted assignment operation is actually a subscripted delete</span><br/>               <span style="color: #A0A0A0"> 960</span> <span style="color: #228B22; background: #FFFFFF;">% operation (i.e. assigning [] to a piece of an array). </span><br/>               <span style="color: #A0A0A0"> 961</span> <span style="color: #A0A0A0; background: #FFFFFF;">function isDeletion = hSubsasgnIsSubscriptedDeletion(subs, RHS)</span><br/>               <span style="color: #A0A0A0"> 962</span> <span style="color: #A0A0A0; background: #FFFFFF;">if isempty(RHS) &amp;&amp; (isa(RHS, 'double') || isa(RHS, 'char'))</span><br/>               <span style="color: #A0A0A0"> 963</span> <span style="color: #228B22; background: #FFFFFF;">    % if any subscript is empty, then don't consider this subscripted assignment. It</span><br/>               <span style="color: #A0A0A0"> 964</span> <span style="color: #228B22; background: #FFFFFF;">    % is either legal (if subs only contains one element) or an illegal</span><br/>               <span style="color: #A0A0A0"> 965</span> <span style="color: #228B22; background: #FFFFFF;">    % operation that hSubsasgn and MATLAB's built-in indexing code will catch</span><br/>               <span style="color: #A0A0A0"> 966</span> <span style="color: #228B22; background: #FFFFFF;">    % ("Indexed empty matrix assignment is not allowed.")</span><br/>               <span style="color: #A0A0A0"> 967</span> <span style="color: #A0A0A0; background: #FFFFFF;">    isDeletion = ~any(cellfun('isempty',subs));</span><br/>               <span style="color: #A0A0A0"> 968</span> <span style="color: #228B22; background: #FFFFFF;">else</span><br/>               <span style="color: #A0A0A0"> 969</span> <span style="color: #A0A0A0; background: #FFFFFF;">    isDeletion = false;</span><br/>               <span style="color: #A0A0A0"> 970</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span><br/>               <span style="color: #A0A0A0"> 971</span> <span style="color: #A0A0A0; background: #FFFFFF;">end % hSubsasgnIsSubscriptedDeletion</span><br/>               <span style="color: #A0A0A0"> 972</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 973</span> <span style="color: #228B22; background: #FFFFFF;">% -------------------------------------------------------------------------</span><br/>               <span style="color: #A0A0A0"> 974</span> <span style="color: #228B22; background: #FFFFFF;">% Lookup and return error struct for common error messages</span><br/>               <span style="color: #A0A0A0"> 975</span> <span style="color: #A0A0A0; background: #FFFFFF;">function out = hGetCommonMemmapfileError(id)</span><br/>               <span style="color: #A0A0A0"> 976</span> <span style="color: #A0A0A0; background: #FFFFFF;">switch lower(id)</span><br/>               <span style="color: #A0A0A0"> 977</span> <span style="color: #A0A0A0; background: #FFFFFF;">    case 'matlab:memmapfile:nocatenation'</span><br/>               <span style="color: #A0A0A0"> 978</span> <span style="color: #A0A0A0; background: #FFFFFF;">        msg = 'Memmapfile objects cannot be concatenated.';</span><br/>               <span style="color: #A0A0A0"> 979</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 980</span> <span style="color: #A0A0A0; background: #FFFFFF;">    case 'matlab:memmapfile:illegaldatafieldmodification'</span><br/>               <span style="color: #A0A0A0"> 981</span> <span style="color: #A0A0A0; background: #FFFFFF;">        msg = sprintf(['When the Data field of a memmapfile object is a structure,\n' ... </span><br/>               <span style="color: #A0A0A0"> 982</span> <span style="color: #A0A0A0; background: #FFFFFF;">               'it may not be replaced by assignment.']);</span><br/>               <span style="color: #A0A0A0"> 983</span> <span style="color: #228B22; background: #FFFFFF;">        </span><br/>               <span style="color: #A0A0A0"> 984</span> <span style="color: #A0A0A0; background: #FFFFFF;">    case 'matlab:memmapfile:datafieldsizefixed'</span><br/>               <span style="color: #A0A0A0"> 985</span> <span style="color: #A0A0A0; background: #FFFFFF;">        msg = sprintf(['Cannot change the size of the Data field via subscripted ' ...</span><br/>               <span style="color: #A0A0A0"> 986</span> <span style="color: #A0A0A0; background: #FFFFFF;">                       'assignment.\nThe size of the Data field is determined by ' ...</span><br/>               <span style="color: #A0A0A0"> 987</span> <span style="color: #A0A0A0; background: #FFFFFF;">                       'the Repeat and Format fields.']);</span><br/>               <span style="color: #A0A0A0"> 988</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 989</span> <span style="color: #A0A0A0; background: #FFFFFF;">    case 'matlab:memmapfile:datasubfieldsizefixed'</span><br/>               <span style="color: #A0A0A0"> 990</span> <span style="color: #A0A0A0; background: #FFFFFF;">        msg = sprintf(['Cannot change the size of a subfield of the Data field via ' ...</span><br/>               <span style="color: #A0A0A0"> 991</span> <span style="color: #A0A0A0; background: #FFFFFF;">                       'subscripted\nassignment. The sizes of subfields of the Data ' ...</span><br/>               <span style="color: #A0A0A0"> 992</span> <span style="color: #A0A0A0; background: #FFFFFF;">                       'field are determined\nby the Format field.']);</span><br/>               <span style="color: #A0A0A0"> 993</span> <span style="color: #228B22; background: #FFFFFF;">        </span><br/>               <span style="color: #A0A0A0"> 994</span> <span style="color: #A0A0A0; background: #FFFFFF;">    case 'matlab:memmapfile:illegalparenindex'</span><br/>               <span style="color: #A0A0A0"> 995</span> <span style="color: #A0A0A0; background: #FFFFFF;">        msg = 'Memmapfile objects may not be subscripted using ().';</span><br/>               <span style="color: #A0A0A0"> 996</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 997</span> <span style="color: #A0A0A0; background: #FFFFFF;">    case 'matlab:memmapfile:illegalbraceindex'</span><br/>               <span style="color: #A0A0A0"> 998</span> <span style="color: #A0A0A0; background: #FFFFFF;">        msg = 'Memmapfile objects may not be subscripted using {}.';</span><br/>               <span style="color: #A0A0A0"> 999</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0">1000</span> <span style="color: #A0A0A0; background: #FFFFFF;">    case 'matlab:memmapfile:unsupportedcsl'</span><br/>               <span style="color: #A0A0A0">1001</span> <span style="color: #A0A0A0; background: #FFFFFF;">        msg = sprintf(['A subscripting operation on the Data field attempted to ' ...</span><br/>               <span style="color: #A0A0A0">1002</span> <span style="color: #A0A0A0; background: #FFFFFF;">                       'create a\ncomma-separated list. The memmapfile class does ' ...</span><br/>               <span style="color: #A0A0A0">1003</span> <span style="color: #A0A0A0; background: #FFFFFF;">                       'not support the use of\ncomma-separated lists when subscripting.']);</span><br/>               <span style="color: #A0A0A0">1004</span> <span style="color: #A0A0A0; background: #FFFFFF;">    case 'matlab:memmapfile:noemptymethod'</span><br/>               <span style="color: #A0A0A0">1005</span> <span style="color: #A0A0A0; background: #FFFFFF;">        msg = 'Empty memmapfile objects cannot be created.';</span><br/>               <span style="color: #A0A0A0">1006</span> <span style="color: #A0A0A0; background: #FFFFFF;">    otherwise</span><br/>               <span style="color: #A0A0A0">1007</span> <span style="color: #A0A0A0; background: #FFFFFF;">        msg = 'Memmapfile error.';</span><br/>               <span style="color: #A0A0A0">1008</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span><br/>               <span style="color: #A0A0A0">1009</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0">1010</span> <span style="color: #A0A0A0; background: #FFFFFF;">out.identifier = id;</span><br/>               <span style="color: #A0A0A0">1011</span> <span style="color: #A0A0A0; background: #FFFFFF;">out.message = msg;</span><br/>               <span style="color: #A0A0A0">1012</span> <span style="color: #A0A0A0; background: #FFFFFF;">end % hGetCommonMemmapfileError</span><br/>               <span style="color: #A0A0A0">1013</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0">1014</span> <span style="color: #228B22; background: #FFFFFF;">% -------------------------------------------------------------------------</span><br/>               <span style="color: #A0A0A0">1015</span> <span style="color: #228B22; background: #FFFFFF;">% Capitalize input string (i.e. upper-case the first character, lower-case rest).</span><br/>               <span style="color: #A0A0A0">1016</span> <span style="color: #A0A0A0; background: #FFFFFF;">function out = hCapitalize(in)</span><br/>               <span style="color: #A0A0A0">1017</span> <span style="color: #A0A0A0; background: #FFFFFF;">out = lower(in);</span><br/>               <span style="color: #A0A0A0">1018</span> <span style="color: #A0A0A0; background: #FFFFFF;">out(1) = upper(out(1));</span><br/>               <span style="color: #A0A0A0">1019</span> <span style="color: #A0A0A0; background: #FFFFFF;">end % hCapitalize</span><br/>               <span style="color: #A0A0A0">1020</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0">1021</span> <span style="color: #228B22; background: #FFFFFF;">% -------------------------------------------------------------------------</span><br/>               <span style="color: #A0A0A0">1022</span> <span style="color: #228B22; background: #FFFFFF;">% Determine if input string is the name of a public property, case-insensitively.</span><br/>               <span style="color: #A0A0A0">1023</span> <span style="color: #A0A0A0; background: #FFFFFF;">function isPublicProperty = hIsPublicProperty(in)</span><br/>               <span style="color: #A0A0A0">1024</span> <span style="color: #A0A0A0; background: #FFFFFF;">persistent publicProperties;</span><br/>               <span style="color: #A0A0A0">1025</span> <span style="color: #A0A0A0; background: #FFFFFF;">if isempty(publicProperties)</span><br/>               <span style="color: #A0A0A0">1026</span> <span style="color: #A0A0A0; background: #FFFFFF;">    publicProperties = properties(mfilename);</span><br/>               <span style="color: #A0A0A0">1027</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span><br/>               <span style="color: #A0A0A0">1028</span> <span style="color: #A0A0A0; background: #FFFFFF;">isPublicProperty = any(strcmpi(publicProperties, in));</span><br/>               <span style="color: #A0A0A0">1029</span> <span style="color: #A0A0A0; background: #FFFFFF;">end % hIsPublicProperty</span><br/>               <span style="color: #A0A0A0">1030</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></body></html>